import{o as Ai,u as Xs}from"./index.d97b169e.js";import{r as eo}from"./randomColor.89f286dc.js";import{e as ea}from"./ensure-attributes.2c659353.js";import"./modulepreload-polyfill.b7f2da20.js";var ta=(()=>`.netless-app-monaco-editor-container{width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column}.netless-app-monaco-editor{flex:1;overflow:hidden}.netless-app-monaco-readonly .cursors-layer>.cursor{display:none!important}.netless-app-monaco-selection{background:rgba(250,129,0,.5)}.netless-app-monaco-cursor{--content: "Guest";--bg-color: orange;--text-color: #fff;--label: none;--dot: block;display:none;margin-left:-1px;border-left:2px solid var(--bg-color);transition:top .2s,left .2s;user-select:none}.netless-app-monaco-cursor:before{display:var(--label);content:var(--content);position:absolute;z-index:1;top:-18px;left:-4px;font-size:12px;line-height:20px;height:20px;padding:0 5px;max-width:200px;overflow:hidden;text-overflow:ellipsis;word-break:keep-all;white-space:nowrap;background:var(--bg-color);border-radius:4px;color:var(--text-color)}.netless-app-monaco-cursor-first-line:before{top:16px;left:-2px}.netless-app-monaco-cursor-right:before{left:unset;right:2px}.netless-app-monaco-cursor:after{display:var(--dot);content:" ";position:absolute;left:-4px;top:-4px;width:6px;height:6px;border-radius:4px;background:var(--bg-color)}.netless-app-monaco-footer{box-sizing:border-box;max-height:30%;display:flex;flex-direction:column;border-top:1px solid #eeeef7;color:#191919;font-size:12px}.netless-app-monaco-footer-ctrl{width:100%;padding:5px 16px;user-select:none}.netless-app-monaco-lang-select:disabled{cursor:not-allowed}.netless-app-monaco-run-code{margin-left:5px}.netless-app-monaco-run-code:disabled{cursor:not-allowed}.netless-app-monaco-terminal{position:relative;flex:1;width:100%;overflow:auto;margin:0;padding:5px 16px 10px 32px;background:rgba(0,0,0,.02)}.netless-app-monaco-terminal:before{content:">";position:absolute;left:16px;top:6px;user-select:none}.telebox-color-scheme-dark .netless-app-monaco-footer{color:#a6a6a8;border-top:none;background:#2d2d33}.telebox-color-scheme-dark .netless-app-monaco-terminal{background:#0e0e0e}
`)(),ia=(()=>`/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.29.2(df04357573e045be658960bd50ff0a45d6d1eadb)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/.monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{display:flex;margin:0 auto;padding:0;height:100%;width:100%;align-items:center}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{display:block;align-items:center;justify-content:center;cursor:pointer;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .codicon,.monaco-action-bar .action-item .icon{display:block}.monaco-action-bar .action-item .codicon{display:flex;align-items:center;width:16px;height:16px}.monaco-action-bar .action-label{font-size:11px;padding:3px;border-radius:5px}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.4}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{display:block;border-bottom:1px solid #bbb;padding-top:1px;margin-left:.8em;margin-right:.8em}.monaco-action-bar .action-item .action-label.separator{width:1px;height:16px;margin:5px 4px!important;cursor:default;min-width:1px;padding:0;background-color:#bbb}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{overflow:hidden;flex:1;max-width:170px;min-width:60px;display:flex;align-items:center;justify-content:center;margin-right:10px}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-label{margin-right:1px}.monaco-aria-container{position:absolute;left:-999em}.monaco-text-button{box-sizing:border-box;display:flex;width:100%;padding:4px;text-align:center;cursor:pointer;justify-content:center;align-items:center}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled,.monaco-button.disabled:focus{opacity:.4!important;cursor:default}.monaco-text-button>.codicon{margin:0 .2em;color:inherit!important}.monaco-button-dropdown{display:flex;cursor:pointer}.monaco-button-dropdown>.monaco-dropdown-button{margin-left:1px}.monaco-description-button{flex-direction:column}.monaco-description-button .monaco-button-label{font-weight:500}.monaco-description-button .monaco-button-description{font-style:italic}.monaco-custom-checkbox{margin-left:2px;float:left;cursor:pointer;overflow:hidden;opacity:.7;width:20px;height:20px;border:1px solid transparent;padding:1px;box-sizing:border-box;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-custom-checkbox.checked,.monaco-custom-checkbox:hover{opacity:1}.hc-black .monaco-custom-checkbox,.hc-black .monaco-custom-checkbox:hover{background:none}.monaco-custom-checkbox.monaco-simple-checkbox{height:18px;width:18px;border:1px solid transparent;border-radius:3px;margin-right:9px;margin-left:0;padding:0;opacity:1;background-size:16px!important}.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked):before{visibility:hidden}@font-face{font-family:codicon;font-display:block;src:url(assets/codicon.d86f69b1.ttf) format("truetype")}.codicon[class*=codicon-]{font: 16px/1 codicon;display:inline-block;text-decoration:none;text-rendering:auto;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;user-select:none;-webkit-user-select:none;-ms-user-select:none}.codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(1turn)}}.codicon-gear.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin,.codicon-sync.codicon-modifier-spin{animation:codicon-spin 1.5s steps(30) infinite}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}.context-view{position:absolute;z-index:2500}.context-view.fixed{all:initial;font-family:inherit;font-size:13px;position:fixed;z-index:2500;color:inherit}.monaco-count-badge{padding:3px 6px;border-radius:11px;font-size:11px;min-width:18px;min-height:18px;line-height:11px;font-weight:400;text-align:center;display:inline-block;box-sizing:border-box}.monaco-count-badge.long{padding:2px 3px;border-radius:2px;min-height:auto;line-height:normal}.monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;height:100%;display:flex;align-items:center;justify-content:center}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}.monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{font-size:13px;width:100%}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-0 .1s linear 0s}.monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-1 .1s linear 0s}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-dark-0 .1s linear 0s}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-dark-1 .1s linear 0s}@keyframes monaco-findInput-highlight-0{0%{background:rgba(253,255,0,.8)}to{background:transparent}}@keyframes monaco-findInput-highlight-1{0%{background:rgba(253,255,0,.8)}99%{background:transparent}}@keyframes monaco-findInput-highlight-dark-0{0%{background:hsla(0,0%,100%,.44)}to{background:transparent}}@keyframes monaco-findInput-highlight-dark-1{0%{background:hsla(0,0%,100%,.44)}99%{background:transparent}}.monaco-hover{cursor:default;position:absolute;overflow:hidden;z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;box-sizing:initial;animation:fadein .1s linear;line-height:1.5em}.monaco-hover.hidden{display:none}.monaco-hover .hover-contents:not(.html-hover-contents){padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:500px;word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover .code,.monaco-hover p,.monaco-hover ul{margin:8px 0}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;margin:4px -8px -4px;height:1px}.monaco-hover .code:first-child,.monaco-hover p:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover .code:last-child,.monaco-hover p:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ol,.monaco-hover ul{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:pre-wrap}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .actions{display:flex;padding:0 8px}.monaco-hover .hover-row.status-bar .actions .action-container{margin-right:16px;cursor:pointer}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link,.monaco-hover .hover-contents a.code-link:hover{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:"("}.monaco-hover .hover-contents a.code-link:after{content:")"}.monaco-hover .hover-contents a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}.monaco-icon-label{display:flex;overflow:hidden;text-overflow:ellipsis}.monaco-icon-label:before{background-size:16px;background-position:0;background-repeat:no-repeat;padding-right:6px;width:16px;height:22px;line-height:inherit!important;display:inline-block;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;flex-shrink:0}.monaco-icon-label>.monaco-icon-label-container{min-width:0;overflow:hidden;text-overflow:ellipsis;flex:1}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{margin:0 2px;opacity:.5}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;margin-left:.5em;font-size:.9em;white-space:pre}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{font-style:italic}.monaco-icon-label.deprecated{text-decoration:line-through;opacity:.66}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;font-size:90%;font-weight:600;margin:auto 16px 0 5px;text-align:center}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}.monaco-inputbox{position:relative;display:block;padding:0;box-sizing:border-box;font-size:inherit}.monaco-inputbox.idle{border:1px solid transparent}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px}.monaco-inputbox>.ibwrapper{position:relative;width:100%;height:100%}.monaco-inputbox>.ibwrapper>.input{display:inline-block;box-sizing:border-box;width:100%;height:100%;line-height:inherit;border:none;font-family:inherit;font-size:inherit;resize:none;color:inherit}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{display:block;-ms-overflow-style:none;scrollbar-width:none;outline:none}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{position:absolute;display:inline-block;width:100%;top:0;left:0;box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{display:inline-block;overflow:hidden;text-align:left;width:100%;box-sizing:border-box;padding:.4em;font-size:12px;line-height:17px;margin-top:-1px;word-wrap:break-word}.monaco-inputbox .monaco-action-bar{position:absolute;right:2px;top:4px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}.monaco-keybinding{display:flex;align-items:center;line-height:10px}.monaco-keybinding>.monaco-keybinding-key{display:inline-block;border-style:solid;border-width:1px;border-radius:3px;vertical-align:middle;font-size:11px;padding:3px 5px;margin:0 2px}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}.monaco-list{position:relative;height:100%;width:100%;white-space:nowrap}.monaco-list.mouse-support{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{position:relative;width:100%;height:100%}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{position:absolute;box-sizing:border-box;overflow:hidden;width:100%}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-multiple,.monaco-list.selection-single{outline:0!important}.monaco-drag-image{display:inline-block;padding:1px 7px;border-radius:10px;font-size:12px;position:absolute;z-index:1000}.monaco-list-type-filter{display:flex;align-items:center;position:absolute;border-radius:2px;padding:0 3px;max-width:calc(100% - 10px);text-overflow:ellipsis;overflow:hidden;text-align:right;box-sizing:border-box;cursor:all-scroll;font-size:13px;line-height:18px;height:20px;z-index:1;top:4px}.monaco-list-type-filter.dragging{transition:top .2s,left .2s}.monaco-list-type-filter.ne{right:4px}.monaco-list-type-filter.nw{left:4px}.monaco-list-type-filter>.controls{display:flex;align-items:center;box-sizing:border-box;transition:width .2s;width:0}.monaco-list-type-filter.dragging>.controls,.monaco-list-type-filter:hover>.controls{width:36px}.monaco-list-type-filter>.controls>*{border:none;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;background:none;width:16px;height:16px;flex-shrink:0;margin:0;padding:0;display:flex;align-items:center;justify-content:center;cursor:pointer}.monaco-list-type-filter>.controls>.filter{margin-left:4px}.monaco-list-type-filter-message{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;padding:40px 1em 1em;text-align:center;white-space:normal;opacity:.7;pointer-events:none}.monaco-list-type-filter-message:empty{display:none}.monaco-list-type-filter{cursor:grab}.monaco-list-type-filter.dragging{cursor:grabbing}.monaco-mouse-cursor-text{cursor:text}.hc-black.mac .monaco-mouse-cursor-text,.hc-black .mac .monaco-mouse-cursor-text,.vs-dark.mac .monaco-mouse-cursor-text,.vs-dark .mac .monaco-mouse-cursor-text{cursor:-webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=) 1x,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAz0lEQVRIx2NgYGBY/R8I/vx5eelX3n82IJ9FxGf6tksvf/8FiTMQAcAGQMDvSwu09abffY8QYSAScNk45G198eX//yev73/4///701eh//kZSARckrNBRvz//+8+6ZohwCzjGNjdgQxkAg7B9WADeBjIBqtJCbhRA0YNoIkBSNmaPEMoNmA0FkYNoFKhapJ6FGyAH3nauaSmPfwI0v/3OukVi0CIZ+F25KrtYcx/CTIy0e+rC7R1Z4KMICVTQQ14feVXIbR695u14+Ir4gwAAD49E54wc1kWAAAAAElFTkSuQmCC) 2x) 5 8,text}.monaco-progress-container{width:100%;height:5px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:5px;position:absolute;left:0;display:none}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{left:0;transition:width .1s linear}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{animation-name:progress;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:linear;transform:translateZ(0)}@keyframes progress{0%{transform:translate(0) scaleX(1)}50%{transform:translate(2500%) scaleX(3)}to{transform:translate(4900%) scaleX(1)}}:root{--sash-size:4px}.monaco-sash{position:absolute;z-index:35;touch-action:none}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;top:0;width:var(--sash-size);height:100%}.monaco-sash.horizontal{cursor:ns-resize;left:0;width:100%;height:var(--sash-size)}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:" ";height:calc(var(--sash-size)*2);width:calc(var(--sash-size)*2);z-index:100;display:block;cursor:all-scroll;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--sash-size)*-.5);top:calc(var(--sash-size)*-1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--sash-size)*-.5);bottom:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--sash-size)*-.5);left:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--sash-size)*-.5);right:calc(var(--sash-size)*-1)}.monaco-sash:before{content:"";pointer-events:none;position:absolute;width:100%;height:100%;transition:background-color .1s ease-out;background:transparent}.monaco-sash.vertical:before{width:var(--sash-hover-size);left:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.horizontal:before{height:var(--sash-hover-size);top:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:rgba(0,255,255,.2)}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}.monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;background:transparent;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{position:absolute;display:none}.monaco-scrollable-element>.shadow.top{display:block;top:0;left:3px;height:3px;width:100%;box-shadow:inset 0 6px 6px -6px #ddd}.monaco-scrollable-element>.shadow.left{display:block;top:3px;left:0;height:100%;width:3px;box-shadow:inset 6px 0 6px -6px #ddd}.monaco-scrollable-element>.shadow.top-left-corner{display:block;top:0;left:0;height:3px;width:3px}.monaco-scrollable-element>.shadow.top.left{box-shadow:inset 6px 6px 6px -6px #ddd}.vs .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,39.2%,.4)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,47.5%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider{background:rgba(111,195,223,.6)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:hsla(0,0%,39.2%,.7)}.hc-black .monaco-scrollable-element>.scrollbar>.slider:hover{background:rgba(111,195,223,.8)}.monaco-scrollable-element>.scrollbar>.slider.active{background:rgba(0,0,0,.6)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active{background:hsla(0,0%,74.9%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider.active{background:#6fc3df}.vs-dark .monaco-scrollable-element .shadow.top{box-shadow:none}.vs-dark .monaco-scrollable-element .shadow.left{box-shadow:inset 6px 0 6px -6px #000}.vs-dark .monaco-scrollable-element .shadow.top.left{box-shadow:inset 6px 6px 6px -6px #000}.hc-black .monaco-scrollable-element .shadow.left,.hc-black .monaco-scrollable-element .shadow.top,.hc-black .monaco-scrollable-element .shadow.top.left{box-shadow:none}.monaco-split-view2{position:relative;width:100%;height:100%}.monaco-split-view2>.sash-container{position:absolute;width:100%;height:100%;pointer-events:none}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:auto}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{width:100%;height:100%;white-space:nowrap;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:normal;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:" ";position:absolute;top:0;left:0;z-index:5;pointer-events:none;background-color:var(--separator-border)}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:100%;width:1px}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:1px;width:100%}.monaco-table{display:flex;flex-direction:column;position:relative;height:100%;width:100%;white-space:nowrap}.monaco-table>.monaco-split-view2{border-bottom:1px solid transparent}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{display:flex;height:100%}.monaco-table-th{width:100%;height:100%;font-weight:700;overflow:hidden;text-overflow:ellipsis}.monaco-table-td,.monaco-table-th{box-sizing:border-box;flex-shrink:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:"";position:absolute;left:calc(var(--sash-size)/2);width:0;border-left:1px solid transparent}.monaco-table>.monaco-split-view2,.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}.monaco-tl-row{display:flex;height:100%;align-items:center;position:relative}.monaco-tl-indent{height:100%;position:absolute;top:0;left:16px;pointer-events:none}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{display:inline-block;box-sizing:border-box;height:100%;border-left:1px solid transparent;transition:border-color .1s linear}.monaco-tl-contents,.monaco-tl-twistie{height:100%}.monaco-tl-twistie{font-size:10px;text-align:right;padding-right:6px;flex-shrink:0;width:16px;display:flex!important;align-items:center;justify-content:center;transform:translate(3px)}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{animation:codicon-spin 1.25s steps(30) infinite}.quick-input-widget{position:absolute;width:600px;z-index:2000;padding:0 1px 1px;left:50%;margin-left:-300px}.quick-input-titlebar{display:flex;align-items:center}.quick-input-left-action-bar{display:flex;margin-left:4px;flex:1}.quick-input-title{padding:3px 0;text-align:center;text-overflow:ellipsis;overflow:hidden}.quick-input-right-action-bar{display:flex;margin-right:4px;flex:1}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px}.quick-input-header .quick-input-description{margin:4px 2px}.quick-input-header{display:flex;padding:6px 6px 0;margin-bottom:-2px}.quick-input-widget.hidden-input .quick-input-header{padding:0;margin-bottom:0}.quick-input-and-message{display:flex;flex-direction:column;flex-grow:1;min-width:0;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;position:absolute;right:4px;display:flex;align-items:center}.quick-input-count .monaco-count-badge{vertical-align:middle;padding:2px 4px;border-radius:2px;min-height:auto;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{font-size:11px;padding:0 6px;display:flex;height:27.5px;align-items:center}.quick-input-message{margin-top:-1px;padding:5px 5px 2px;overflow-wrap:break-word}.quick-input-message>.codicon{margin:0 .2em;vertical-align:text-bottom}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-progress.monaco-progress-container,.quick-input-progress.monaco-progress-container .progress-bit{height:2px}.quick-input-list{line-height:22px;margin-top:6px}.quick-input-widget.hidden-input .quick-input-list{margin-top:0}.quick-input-list .monaco-list{overflow:hidden;max-height:440px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;overflow:hidden;display:flex;height:100%;padding:0 6px}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-width:1px;border-top-style:solid}.quick-input-list .monaco-list-row[data-index="0"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{overflow:hidden;display:flex;height:100%;flex:1}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-rows{overflow:hidden;text-overflow:ellipsis;display:flex;flex-direction:column;height:100%;flex:1;margin-left:5px}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{display:flex;align-items:center}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;line-height:normal;text-overflow:ellipsis;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:8px}.quick-input-list .quick-input-list-entry-action-bar{display:flex;flex:0;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label,.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:none}.monaco-editor .inputarea{min-width:0;min-height:0;margin:0;padding:0;position:absolute;outline:none!important;resize:none;border:none;overflow:hidden;color:transparent;background-color:transparent}.monaco-editor .inputarea.ime-input{z-index:10}.monaco-editor .margin-view-overlays .current-line,.monaco-editor .view-overlays .current-line{display:block;position:absolute;left:0;top:0;box-sizing:border-box}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}.monaco-editor .lines-content .cdr{position:absolute}.monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .margin-view-overlays .cgmr{position:absolute;display:flex;align-items:center;justify-content:center}.monaco-editor .lines-content .core-guide{position:absolute}.monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;position:absolute;text-align:right;display:inline-block;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%}.monaco-editor .relative-current-line-number{text-align:left;display:inline-block;width:100%}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{position:absolute;width:100%}.monaco-editor .mtkz{display:inline-block}.monaco-editor .lines-decorations{position:absolute;top:0;background:#fff}.monaco-editor .margin-view-overlays .cldr{position:absolute;height:100%}.monaco-editor .margin-view-overlays .cmdr{position:absolute;left:0;width:100%;height:100%}.monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover .minimap-slider.active,.monaco-editor .minimap.slider-mouseover:hover .minimap-slider{opacity:1}.monaco-editor .minimap-shadow-hidden{position:absolute;width:0}.monaco-editor .minimap-shadow-visible{position:absolute;left:-6px;width:6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{position:absolute;left:-1px;width:1px}.monaco-editor .overlayWidgets{position:absolute;top:0;left:0}.monaco-editor .view-ruler{position:absolute;top:0}.monaco-editor .scroll-decoration{position:absolute;top:0;left:0;height:6px}.monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{box-sizing:border-box;background:transparent!important;border-style:solid;border-width:1px}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-width:2px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-width:1px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{animation:monaco-cursor-smooth .5s ease-in-out 0s 20 alternate}.cursor-phase{animation:monaco-cursor-phase .5s ease-in-out 0s 20 alternate}.cursor-expand>.cursor{animation:monaco-cursor-expand .5s ease-in-out 0s 20 alternate}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:rgba(0,0,0,.03)}.monaco-diff-editor.vs-dark .diffOverview{background:hsla(0,0%,100%,.01)}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar{background:transparent}.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar{background:none}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:hsla(0,0%,67.1%,.4)}.modified-in-monaco-diff-editor.hc-black .slider.active{background:none}.monaco-diff-editor .delete-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-editor .insert-sign{font-size:11px!important;opacity:.7!important;display:flex!important;align-items:center}.monaco-diff-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-editor.hc-black .insert-sign{opacity:1}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .inline-deleted-margin-view-zone{text-align:right}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-diff-editor .diff-review-line-number{text-align:right;display:inline-block}.monaco-diff-editor .diff-review{position:absolute;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{display:table;min-width:100%}.monaco-diff-editor .diff-review-row{display:table-row;width:100%}.monaco-diff-editor .diff-review-spacer{display:inline-block;width:10px;vertical-align:middle}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{display:inline-block;position:absolute;right:10px;top:2px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{position:relative;overflow:visible;-webkit-text-size-adjust:100%}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .selection-anchor{background-color:#007acc;width:2px!important}.monaco-editor .bracket-match{box-sizing:border-box}.monaco-editor .contentWidgets .codicon-light-bulb,.monaco-editor .contentWidgets .codicon-lightbulb-autofix{display:flex;align-items:center;justify-content:center}.monaco-editor .contentWidgets .codicon-light-bulb:hover,.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover{cursor:pointer}.monaco-editor .codelens-decoration{overflow:hidden;display:inline-block;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .codelens-decoration>a,.monaco-editor .codelens-decoration>span{user-select:none;-webkit-user-select:none;-ms-user-select:none;white-space:nowrap;vertical-align:sub}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer}.monaco-editor .codelens-decoration .codicon{vertical-align:middle;color:currentColor!important}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{animation:fadein .1s linear}.colorpicker-widget{height:190px;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .colorpicker-hover:focus{outline:none}.colorpicker-header{display:flex;height:24px;position:relative;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-header .picked-color{width:216px;line-height:24px;cursor:pointer;color:#fff;flex:1;text-align:center}.colorpicker-header .picked-color.light{color:#000}.colorpicker-header .original-color{width:74px;z-index:inherit;cursor:pointer}.colorpicker-body{display:flex;padding:8px;position:relative}.colorpicker-body .saturation-wrap{overflow:hidden;height:150px;position:relative;min-width:220px;flex:1}.colorpicker-body .saturation-box{height:150px;position:absolute}.colorpicker-body .saturation-selection{width:9px;height:9px;margin:-5px 0 0 -5px;border:1px solid #fff;border-radius:100%;box-shadow:0 0 2px #000c;position:absolute}.colorpicker-body .strip{width:25px;height:150px}.colorpicker-body .hue-strip{position:relative;margin-left:8px;cursor:grab;background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.colorpicker-body .opacity-strip{position:relative;margin-left:8px;cursor:grab;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-body .strip.grabbing{cursor:grabbing}.colorpicker-body .slider{position:absolute;top:0;left:-2px;width:calc(100% + 4px);height:4px;box-sizing:border-box;border:1px solid hsla(0,0%,100%,.71);box-shadow:0 0 1px #000000d9}.colorpicker-body .strip .overlay{height:150px;pointer-events:none}.monaco-editor.vs .dnd-target{border-right:2px dotted #000;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines{cursor:default}.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines{cursor:copy}.monaco-editor .find-widget{position:absolute;z-index:35;height:33px;overflow:hidden;line-height:19px;transition:transform .2s linear;padding:0 4px;box-sizing:border-box;transform:translateY(calc(-100% - 10px))}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:flex}.monaco-editor .find-widget.visible{transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-editor .find-widget .monaco-inputbox .input{background-color:transparent;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{margin:4px 0 0 17px;font-size:12px;display:flex}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-top:2px;padding-bottom:2px}.monaco-editor .find-widget>.find-part .find-actions,.monaco-editor .find-widget>.replace-part .replace-actions{height:25px;display:flex;align-items:center}.monaco-editor .find-widget .monaco-findInput{vertical-align:middle;display:flex;flex:1}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{display:flex;flex:initial;margin:0 0 0 3px;padding:2px 0 0 2px;height:25px;vertical-align:middle;box-sizing:border-box;text-align:center;line-height:23px}.monaco-editor .find-widget .button{width:16px;height:16px;padding:3px;border-radius:5px;flex:initial;margin-left:3px;background-position:50%;background-repeat:no-repeat;cursor:pointer;display:flex;align-items:center;justify-content:center}.monaco-editor .find-widget .codicon-find-selection{width:22px;height:22px;padding:3px;border-radius:5px}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{width:auto;padding:1px 6px;top:-1px}.monaco-editor .find-widget .button.toggle{position:absolute;top:0;left:3px;width:18px;height:100%;border-radius:0;box-sizing:border-box}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{opacity:.3;cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{position:relative;display:flex;vertical-align:middle;flex:auto;flex-grow:0;flex-shrink:0}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px!important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px!important}.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .findMatch{animation-duration:0;animation-name:inherit!important}.monaco-editor .find-widget .monaco-sash{left:0!important}.monaco-editor.hc-black .find-widget .button:before{position:relative;top:1px;left:2px}.monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-expanded{cursor:pointer;opacity:0;transition:opacity .5s;display:flex;align-items:center;justify-content:center;font-size:140%;margin-left:2px}.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays:hover .codicon{opacity:1}.monaco-editor .inline-folded:after{color:gray;margin:.1em .2em 0;content:"\\22ef";display:inline;line-height:1em;cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;vertical-align:text-top;margin-right:4px}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{opacity:.6;font-style:italic}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{position:absolute;white-space:pre;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:8px 12px 0 20px}.monaco-editor .marker-widget .descriptioncontainer .message{display:flex;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{opacity:.6;color:inherit}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-editor .marker-widget .descriptioncontainer .filename{cursor:pointer}.monaco-editor .goto-definition-link{text-decoration:underline;cursor:pointer}.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget{border-top-width:1px;border-bottom-width:1px}.monaco-editor .reference-zone-widget .inline{display:inline-block;vertical-align:top}.monaco-editor .reference-zone-widget .messages{height:100%;width:100%;text-align:center;padding:3em 0}.monaco-editor .reference-zone-widget .ref-tree{line-height:23px}.monaco-editor .reference-zone-widget .ref-tree .reference{text-overflow:ellipsis;overflow:hidden}.monaco-editor .reference-zone-widget .ref-tree .reference-file{display:inline-flex;width:100%;height:100%}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file{color:inherit!important}.monaco-editor .reference-zone-widget .ref-tree .reference-file .count{margin-right:12px;margin-left:auto}.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file{font-weight:700}.monaco-editor .suggest-preview-additional-widget{white-space:nowrap}.monaco-editor .suggest-preview-additional-widget .content-spacer{color:transparent;white-space:pre}.monaco-editor .suggest-preview-additional-widget .button{display:inline-block;cursor:pointer;text-decoration:underline;text-underline-position:under}.monaco-editor .ghost-text-hidden{opacity:0;font-size:0}.monaco-editor .ghost-text-decoration,.monaco-editor .suggest-preview-text{font-style:italic}.monaco-editor .detected-link,.monaco-editor .detected-link-active{text-decoration:underline;text-underline-position:under}.monaco-editor .detected-link-active{cursor:pointer}.monaco-editor .monaco-editor-overlaymessage{padding-bottom:8px;z-index:10000}.monaco-editor .monaco-editor-overlaymessage.below{padding-bottom:0;padding-top:8px;z-index:10000}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.monaco-editor .monaco-editor-overlaymessage.fadeIn{animation:fadeIn .15s ease-out}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.monaco-editor .monaco-editor-overlaymessage.fadeOut{animation:fadeOut .1s ease-out}.monaco-editor .monaco-editor-overlaymessage .message{padding:1px 4px}.monaco-editor .monaco-editor-overlaymessage .anchor{width:0!important;height:0!important;z-index:1000;border:8px solid transparent;position:absolute}.monaco-editor .monaco-editor-overlaymessage.below .anchor.below,.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top{display:none}.monaco-editor .monaco-editor-overlaymessage.below .anchor.top{display:inherit;top:-8px}.monaco-editor .parameter-hints-widget{z-index:10;display:flex;flex-direction:column;line-height:1.5em}.monaco-editor .parameter-hints-widget>.phwrapper{max-width:440px;display:flex;flex-direction:row}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.visible{transition:left .05s ease-in-out}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .body,.monaco-editor .parameter-hints-widget .monaco-scrollable-element{display:flex;flex:1;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:normal}.monaco-editor .parameter-hints-widget .docs .markdown-docs code{font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .docs .code{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs code{border-radius:3px;padding:0 .4em}.monaco-editor .parameter-hints-widget .controls{display:none;flex-direction:column;align-items:center;min-width:22px;justify-content:flex-end}.monaco-editor .parameter-hints-widget.multiple .controls{display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{width:16px;height:16px;background-repeat:no-repeat;cursor:pointer}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{text-align:center;height:12px;line-height:12px;opacity:.5;font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .signature .parameter.active{font-weight:700;text-decoration:underline}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:.5em}.monaco-editor .peekview-widget .head{box-sizing:border-box;display:flex}.monaco-editor .peekview-widget .head .peekview-title{display:flex;align-items:center;font-size:13px;margin-left:20px;min-width:0}.monaco-editor .peekview-widget .head .peekview-title.clickable{cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty){font-size:.9em;margin-left:.5em}.monaco-editor .peekview-widget .head .peekview-title .dirname,.monaco-editor .peekview-widget .head .peekview-title .meta{white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .filename{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty):before{content:"-";padding:0 .3em}.monaco-editor .peekview-widget .head .peekview-actions{flex:1;text-align:right;padding-right:2px}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar{display:inline-block}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar,.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar>.actions-container{height:100%}.monaco-editor .peekview-widget>.body{border-top:1px solid;position:relative}.monaco-editor .peekview-widget .head .peekview-title .codicon{margin-right:4px}.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon{color:inherit!important}.monaco-editor .rename-box{z-index:100;color:inherit}.monaco-editor .rename-box.preview{padding:3px 3px 0}.monaco-editor .rename-box .rename-input{padding:3px;width:calc(100% - 6px)}.monaco-editor .rename-box .rename-label{display:none;opacity:.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}.monaco-editor .snippet-placeholder{min-width:2px}.monaco-editor .finish-snippet-placeholder,.monaco-editor .snippet-placeholder{outline-style:solid;outline-width:1px}.monaco-editor .suggest-widget{width:430px;z-index:40;display:flex;flex-direction:column}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-details,.monaco-editor .suggest-widget{flex:0 1 auto;width:100%;border-style:solid;border-width:1px}.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-black .suggest-widget{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;display:none;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:80%;padding:0 4px;border-top:1px solid transparent;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{opacity:.5;color:inherit}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:", ";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{height:100%;width:100%}.monaco-editor .suggest-widget .monaco-list{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{display:flex;-mox-box-sizing:border-box;box-sizing:border-box;padding-right:10px;background-repeat:no-repeat;background-position:2px 2px;white-space:nowrap;cursor:pointer;touch-action:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;overflow:hidden;padding-left:2px}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{display:flex;overflow:hidden;text-overflow:ellipsis;white-space:pre;justify-content:space-between}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;font-size:14px;cursor:pointer}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{overflow:hidden;text-overflow:ellipsis;opacity:.6}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{margin-left:12px;opacity:.4;font-size:85%;line-height:normal;text-overflow:ellipsis;overflow:hidden;align-self:center}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{font-size:85%;margin-left:1.1em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-shrink:1;flex-grow:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{overflow:hidden;flex-shrink:4;max-width:70%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:inline-block;position:absolute;right:10px;width:18px;height:18px;visibility:hidden}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{display:block;height:16px;width:16px;margin-left:2px;background-repeat:no-repeat;background-size:80%;background-position:50%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{display:flex;align-items:center;margin-right:4px}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{margin:0 0 0 .3em;border:.1em solid #000;width:.7em;height:.7em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{display:flex;flex-direction:column;cursor:default}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;height:100%;width:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{flex:2;overflow:hidden;text-overflow:ellipsis;opacity:.7;white-space:pre;margin:0 24px 0 0;padding:4px 0 12px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{margin:0;padding:4px 5px;white-space:pre-wrap}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{padding:0;white-space:normal;min-height:calc(1rem + 8px)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ol,.monaco-editor .suggest-details ul{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}.monaco-editor .zone-widget{position:absolute;z-index:10}.monaco-editor .zone-widget .zone-widget-container{border-top-style:solid;border-bottom-style:solid;border-top-width:0;border-bottom-width:0;position:relative}.monaco-editor .accessibilityHelpWidget{padding:10px;vertical-align:middle;overflow:scroll}.monaco-editor .iPadShowKeyboard{width:58px;min-width:0;height:36px;min-height:0;margin:0;padding:0;position:absolute;resize:none;overflow:hidden;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iIzQyNDI0MiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #f6f6f6;border-radius:4px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iI0M1QzVDNSIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #252526}.monaco-editor .tokens-inspect-widget{z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:10px}.tokens-inspect-separator{height:1px;border:0}.monaco-editor .tokens-inspect-widget .tm-token{font-family:var(--monaco-monospace-font)}.monaco-editor .tokens-inspect-widget .tm-token-length{font-weight:400;font-size:60%;float:right}.monaco-editor .tokens-inspect-widget .tm-metadata-table{width:100%}.monaco-editor .tokens-inspect-widget .tm-metadata-value{font-family:var(--monaco-monospace-font);text-align:right}.monaco-editor .tokens-inspect-widget .tm-token-type{font-family:var(--monaco-monospace-font)}.quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.monaco-keybinding>.monaco-keybinding-key{background-color:#ddd6;border:1px solid hsla(0,0%,80%,.4);border-bottom-color:#bbb6;box-shadow:inset 0 -1px #bbb6;color:#555}.hc-black .monaco-keybinding>.monaco-keybinding-key{background-color:transparent;border:1px solid #6fc3df;box-shadow:none;color:#fff}.vs-dark .monaco-keybinding>.monaco-keybinding-key{background-color:#8080802b;border:1px solid rgba(51,51,51,.6);border-bottom-color:#4449;box-shadow:inset 0 -1px #4449;color:#ccc}.monaco-editor{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif;--monaco-monospace-font:"SF Mono",Monaco,Menlo,Consolas,"Ubuntu Mono","Liberation Mono","DejaVu Sans Mono","Courier New",monospace}.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{position:absolute!important;top:0;height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;clip:rect(1px,1px,1px,1px);clip-path:inset(50%)}.monaco-editor.hc-black{-ms-high-contrast-adjust:none}@media screen and (-ms-high-contrast:active){.monaco-editor.vs-dark .view-overlays .current-line,.monaco-editor.vs .view-overlays .current-line{border-color:windowtext!important;border-left:0;border-right:0}.monaco-editor.vs-dark .cursor,.monaco-editor.vs .cursor{background-color:windowtext!important}.monaco-editor.vs-dark .dnd-target,.monaco-editor.vs .dnd-target{border-color:windowtext!important}.monaco-editor.vs-dark .selected-text,.monaco-editor.vs .selected-text{background-color:highlight!important}.monaco-editor.vs-dark .view-line,.monaco-editor.vs .view-line{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .view-line span,.monaco-editor.vs .view-line span{color:windowtext!important}.monaco-editor.vs-dark .view-line span.inline-selected-text,.monaco-editor.vs .view-line span.inline-selected-text{color:highlighttext!important}.monaco-editor.vs-dark .view-overlays,.monaco-editor.vs .view-overlays{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .reference-decoration,.monaco-editor.vs-dark .selectionHighlight,.monaco-editor.vs-dark .wordHighlight,.monaco-editor.vs-dark .wordHighlightStrong,.monaco-editor.vs .reference-decoration,.monaco-editor.vs .selectionHighlight,.monaco-editor.vs .wordHighlight,.monaco-editor.vs .wordHighlightStrong{border:2px dotted highlight!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .rangeHighlight,.monaco-editor.vs .rangeHighlight{background:transparent!important;border:1px dotted activeborder!important;box-sizing:border-box}.monaco-editor.vs-dark .bracket-match,.monaco-editor.vs .bracket-match{border-color:windowtext!important;background:transparent!important}.monaco-editor.vs-dark .currentFindMatch,.monaco-editor.vs-dark .findMatch,.monaco-editor.vs .currentFindMatch,.monaco-editor.vs .findMatch{border:2px dotted activeborder!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .find-widget,.monaco-editor.vs .find-widget{border:1px solid windowtext}.monaco-editor.vs-dark .monaco-list .monaco-list-row,.monaco-editor.vs .monaco-list .monaco-list-row{-ms-high-contrast-adjust:none;color:windowtext!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused,.monaco-editor.vs .monaco-list .monaco-list-row.focused{color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover,.monaco-editor.vs .monaco-list .monaco-list-row:hover{background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar,.monaco-editor.vs .monaco-scrollable-element>.scrollbar{-ms-high-contrast-adjust:none;background:background!important;border:1px solid windowtext;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider{background:windowtext!important}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider:hover,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider:hover{background:highlight!important}.monaco-editor.vs-dark .decorationsOverviewRuler,.monaco-editor.vs .decorationsOverviewRuler{opacity:0}.monaco-editor.vs-dark .minimap,.monaco-editor.vs .minimap{display:none}.monaco-editor.vs-dark .squiggly-d-error,.monaco-editor.vs .squiggly-d-error{background:transparent!important;border-bottom:4px double #e47777}.monaco-editor.vs-dark .squiggly-b-info,.monaco-editor.vs-dark .squiggly-c-warning,.monaco-editor.vs .squiggly-b-info,.monaco-editor.vs .squiggly-c-warning{border-bottom:4px double #71b771}.monaco-editor.vs-dark .squiggly-a-hint,.monaco-editor.vs .squiggly-a-hint{border-bottom:4px double #6c6c6c}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{-ms-high-contrast-adjust:none;color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label{-ms-high-contrast-adjust:none;background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-diff-editor.vs-dark .diffOverviewRuler,.monaco-diff-editor.vs .diffOverviewRuler{display:none}.monaco-editor.vs-dark .line-delete,.monaco-editor.vs-dark .line-insert,.monaco-editor.vs .line-delete,.monaco-editor.vs .line-insert{background:transparent!important;border:1px solid highlight!important;box-sizing:border-box}.monaco-editor.vs-dark .char-delete,.monaco-editor.vs-dark .char-insert,.monaco-editor.vs .char-delete,.monaco-editor.vs .char-insert{background:transparent!important}}.monaco-action-bar .action-item.menu-entry .action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-action-bar .action-item.menu-entry .action-label,.vs-dark .monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-dark)}.monaco-dropdown-with-default{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-default>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-dropdown-with-default>.action-container.menu-entry>.action-label,.vs-dark .monaco-dropdown-with-default>.action-container.menu-entry>.action-label{background-image:var(--menu-entry-icon-dark)}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}.context-view .monaco-menu{min-width:130px}
`)();function na(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function to(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,n)}return i}function io(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?to(Object(i),!0).forEach(function(n){na(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):to(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function oa(t,e){return ra(t)||sa(t,e)||aa(t,e)||la()}function ra(t){if(Array.isArray(t))return t}function sa(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var i=[],n=!0,o=!1,r=void 0;try{for(var s=t[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(i.push(a.value),!(e&&i.length===e));n=!0);}catch(d){o=!0,r=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(o)throw r}}return i}}function aa(t,e){if(!!t){if(typeof t=="string")return no(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return no(t,e)}}function no(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function la(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ca(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function oo(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,n)}return i}function ro(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?oo(Object(i),!0).forEach(function(n){ca(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):oo(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function da(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(n){return e.reduceRight(function(o,r){return r(o)},n)}}function at(t){return function e(){for(var i=this,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return o.length>=t.length?t.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),d=0;d<s;d++)a[d]=arguments[d];return e.apply(i,[].concat(o,a))}}}function hi(t){return{}.toString.call(t).includes("Object")}function ha(t){return!Object.keys(t).length}function pt(t){return typeof t=="function"}function ua(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fa(t,e){return hi(e)||ye("changeType"),Object.keys(e).some(function(i){return!ua(t,i)})&&ye("changeField"),e}function pa(t){pt(t)||ye("selectorType")}function ga(t){pt(t)||hi(t)||ye("handlerType"),hi(t)&&Object.values(t).some(function(e){return!pt(e)})&&ye("handlersType")}function ma(t){t||ye("initialIsRequired"),hi(t)||ye("initialType"),ha(t)&&ye("initialContent")}function ba(t,e){throw new Error(t[e]||t.default)}var wa={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ye=at(ba)(wa),qt={changes:fa,selector:pa,handler:ga,initial:ma};function xa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};qt.initial(t),qt.handler(e);var i={current:t},n=at(ka)(i,e),o=at(ya)(i),r=at(qt.changes)(t),s=at(_a)(i);function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return qt.selector(l),l(i.current)}function d(l){da(n,o,r,s)(l)}return[a,d]}function _a(t,e){return pt(e)?e(t.current):e}function ya(t,e){return t.current=ro(ro({},t.current),e),e}function ka(t,e,i){return pt(e)?e(t.current):Object.keys(i).forEach(function(n){var o;return(o=e[n])===null||o===void 0?void 0:o.call(e,t.current[n])}),i}var va={create:xa},Aa={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.28.1/min/vs"}};function Da(t){return function e(){for(var i=this,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return o.length>=t.length?t.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),d=0;d<s;d++)a[d]=arguments[d];return e.apply(i,[].concat(o,a))}}}function Sa(t){return{}.toString.call(t).includes("Object")}function Ea(t){return t||so("configIsRequired"),Sa(t)||so("configType"),t.urls?(Ca(),{paths:{vs:t.urls.monacoBase}}):t}function Ca(){console.warn(_r.deprecation)}function Ma(t,e){throw new Error(t[e]||t.default)}var _r={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},so=Da(Ma)(_r),Ia={config:Ea},Na=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return function(o){return i.reduceRight(function(r,s){return s(r)},o)}};function yr(t,e){return Object.keys(e).forEach(function(i){e[i]instanceof Object&&t[i]&&Object.assign(e[i],yr(t[i],e[i]))}),io(io({},t),e)}var za={type:"cancelation",msg:"operation is manually canceled"};function ao(t){var e=!1,i=new Promise(function(n,o){t.then(function(r){return e?o(za):n(r)}),t.catch(o)});return i.cancel=function(){return e=!0},i}var Ta=va.create({config:Aa,isInitialized:!1,resolve:null,reject:null,monaco:null}),kr=oa(Ta,2),It=kr[0],Di=kr[1];function Oa(t){Di(function(e){return{config:yr(e.config,Ia.config(t))}})}function Ra(){var t=It(function(e){var i=e.isInitialized;return{isInitialized:i}});if(!t.isInitialized){if(window.monaco&&window.monaco.editor)return vr(window.monaco),ao(Promise.resolve(window.monaco));Na(La,ja)(Za),Di({isInitialized:!0})}return ao($a)}function La(t){return document.body.appendChild(t)}function Ua(t){var e=document.createElement("script");return t&&(e.src=t),e}function ja(t){var e=It(function(n){var o=n.config,r=n.reject;return{config:o,reject:r}}),i=Ua("".concat(e.config.paths.vs,"/loader.js"));return i.onload=function(){return t()},i.onerror=e.reject,i}function Za(){var t=It(function(i){var n=i.config,o=i.resolve,r=i.reject;return{config:n,resolve:o,reject:r}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(i){vr(i),t.resolve(i)},function(i){t.reject(i)})}function vr(t){It().monaco||Di({monaco:t})}function Fa(){return It(function(t){var e=t.monaco;return e})}var $a=new Promise(function(t,e){return Di({resolve:t,reject:e})}),lo={config:Oa,init:Ra,__getMonacoInstance:Fa};const se=()=>new Map,ui=t=>{const e=se();return t.forEach((i,n)=>{e.set(n,i)}),e},Se=(t,e,i)=>{let n=t.get(e);return n===void 0&&t.set(e,n=i()),n},Ba=(t,e)=>{const i=[];for(const[n,o]of t)i.push(e(o,n));return i},qa=(t,e)=>{for(const[i,n]of t)if(e(n,i))return!0;return!1},gt=()=>new Set,Zi=t=>t[t.length-1],Va=(t,e)=>{for(let i=0;i<e.length;i++)t.push(e[i])},Ar=Array.from;class Ha{constructor(){this._observers=se()}on(e,i){Se(this._observers,e,gt).add(i)}once(e,i){const n=(...o)=>{this.off(e,n),i(...o)};this.on(e,n)}off(e,i){const n=this._observers.get(e);n!==void 0&&(n.delete(i),n.size===0&&this._observers.delete(e))}emit(e,i){return Ar((this._observers.get(e)||se()).values()).forEach(n=>n(...i))}destroy(){this._observers=se()}}const fi=Math.floor,Fi=Math.abs,Dr=(t,e)=>t<e?t:e,Ue=(t,e)=>t>e?t:e,Sr=t=>t!==0?t<0:1/t<0,Pa=t=>t.toLowerCase(),Ga=/^\s*/g,Ya=t=>t.replace(Ga,""),Qa=/([A-Z])/g,co=(t,e)=>Ya(t.replace(Qa,i=>`${e}${Pa(i)}`));typeof TextEncoder!="undefined"&&new TextEncoder;let $i=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});$i&&$i.decode(new Uint8Array).length===1&&($i=null);const ho=t=>t===void 0?null:t;class Wa{constructor(){this.map=new Map}setItem(e,i){this.map.set(e,i)}getItem(e){return this.map.get(e)}}let Er=new Wa,Ja=!0;try{typeof localStorage!="undefined"&&(Er=localStorage,Ja=!1)}catch{}const Ka=Er,vn=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name);typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let te;const Xa=()=>{if(te===void 0)if(vn){te=se();const t=process.argv;let e=null;for(let i=0;i<t.length;i++){const n=t[i];n[0]==="-"?(e!==null&&te.set(e,""),e=n):e!==null&&(te.set(e,n),e=null)}e!==null&&te.set(e,"")}else typeof location=="object"?(te=se(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,i]=t.split("=");te.set(`--${co(e,"-")}`,i),te.set(`-${co(e,"-")}`,i)}})):te=se();return te},el=t=>Xa().has(t),tl=t=>ho(vn?process.env[t.toUpperCase()]:Ka.getItem(t)),il=t=>el("--"+t)||tl(t)!==null;il("production");const uo=1,fo=2,Bi=4,qi=8,mt=32,fe=64,P=128,Si=31,hn=63,Ie=127,nl=2147483647;class Ei{constructor(e){this.arr=e,this.pos=0}}const Ke=t=>new Ei(t),ol=t=>t.pos!==t.arr.length,rl=(t,e)=>{const i=Sn(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,i},G=t=>rl(t,v(t)),Ge=t=>t.arr[t.pos++],v=t=>{let e=0,i=0;for(;;){const n=t.arr[t.pos++];if(e=e|(n&Ie)<<i,i+=7,n<P)return e>>>0;if(i>35)throw new Error("Integer out of range!")}},An=t=>{let e=t.arr[t.pos++],i=e&hn,n=6;const o=(e&fe)>0?-1:1;if((e&P)===0)return o*i;for(;;){if(e=t.arr[t.pos++],i=i|(e&Ie)<<n,n+=7,e<P)return o*(i>>>0);if(n>41)throw new Error("Integer out of range!")}},Be=t=>{let e=v(t);if(e===0)return"";{let i=String.fromCodePoint(Ge(t));if(--e<100)for(;e--;)i+=String.fromCodePoint(Ge(t));else for(;e>0;){const n=e<1e4?e:1e4,o=t.arr.subarray(t.pos,t.pos+n);t.pos+=n,i+=String.fromCodePoint.apply(null,o),e-=n}return decodeURIComponent(escape(i))}},Dn=(t,e)=>{const i=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,i},sl=t=>Dn(t,4).getFloat32(0,!1),al=t=>Dn(t,8).getFloat64(0,!1),ll=t=>Dn(t,8).getBigInt64(0,!1),cl=[t=>{},t=>null,An,sl,al,ll,t=>!1,t=>!0,Be,t=>{const e=v(t),i={};for(let n=0;n<e;n++){const o=Be(t);i[o]=bt(t)}return i},t=>{const e=v(t),i=[];for(let n=0;n<e;n++)i.push(bt(t));return i},G],bt=t=>cl[127-Ge(t)](t);class po extends Ei{constructor(e,i){super(e),this.reader=i,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),ol(this)?this.count=v(this)+1:this.count=-1),this.count--,this.s}}class ei extends Ei{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=An(this);const e=Sr(this.s);this.count=1,e&&(this.s=-this.s,this.count=v(this)+2)}return this.count--,this.s}}class Vi extends Ei{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=An(this),i=e&1;this.diff=e>>1,this.count=1,i&&(this.count=v(this)+2)}return this.s+=this.diff,this.count--,this.s}}class dl{constructor(e){this.decoder=new ei(e),this.str=Be(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),i=this.str.slice(this.spos,e);return this.spos=e,i}}const hl=t=>new Uint8Array(t),Sn=(t,e,i)=>new Uint8Array(t,e,i),ul=t=>{const e=hl(t.byteLength);return e.set(t),e},fl=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&fi(t)===t);class Nt{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Ci=()=>new Nt,pl=t=>{let e=t.cpos;for(let i=0;i<t.bufs.length;i++)e+=t.bufs[i].length;return e},re=t=>{const e=new Uint8Array(pl(t));let i=0;for(let n=0;n<t.bufs.length;n++){const o=t.bufs[n];e.set(o,i),i+=o.length}return e.set(Sn(t.cbuf.buffer,0,t.cpos),i),e},gl=(t,e)=>{const i=t.cbuf.length;i-t.cpos<e&&(t.bufs.push(Sn(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ue(i,e)*2),t.cpos=0)},F=(t,e)=>{const i=t.cbuf.length;t.cpos===i&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(i*2),t.cpos=0),t.cbuf[t.cpos++]=e},un=F,E=(t,e)=>{for(;e>Ie;)F(t,P|Ie&e),e>>>=7;F(t,Ie&e)},En=(t,e)=>{const i=Sr(e);for(i&&(e=-e),F(t,(e>hn?P:0)|(i?fe:0)|hn&e),e>>>=6;e>0;)F(t,(e>Ie?P:0)|Ie&e),e>>>=7},qe=(t,e)=>{const i=unescape(encodeURIComponent(e)),n=i.length;E(t,n);for(let o=0;o<n;o++)F(t,i.codePointAt(o))},Mi=(t,e)=>{const i=t.cbuf.length,n=t.cpos,o=Dr(i-n,e.length),r=e.length-o;t.cbuf.set(e.subarray(0,o),n),t.cpos+=o,r>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ue(i*2,r)),t.cbuf.set(e.subarray(o)),t.cpos=r)},Y=(t,e)=>{E(t,e.byteLength),Mi(t,e)},Cn=(t,e)=>{gl(t,e);const i=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,i},ml=(t,e)=>Cn(t,4).setFloat32(0,e,!1),bl=(t,e)=>Cn(t,8).setFloat64(0,e,!1),wl=(t,e)=>Cn(t,8).setBigInt64(0,e,!1),go=new DataView(new ArrayBuffer(4)),xl=t=>(go.setFloat32(0,t),go.getFloat32(0)===t),wt=(t,e)=>{switch(typeof e){case"string":F(t,119),qe(t,e);break;case"number":fl(e)&&e<=nl?(F(t,125),En(t,e)):xl(e)?(F(t,124),ml(t,e)):(F(t,123),bl(t,e));break;case"bigint":F(t,122),wl(t,e);break;case"object":if(e===null)F(t,126);else if(e instanceof Array){F(t,117),E(t,e.length);for(let i=0;i<e.length;i++)wt(t,e[i])}else if(e instanceof Uint8Array)F(t,116),Y(t,e);else{F(t,118);const i=Object.keys(e);E(t,i.length);for(let n=0;n<i.length;n++){const o=i[n];qe(t,o),wt(t,e[o])}}break;case"boolean":F(t,e?120:121);break;default:F(t,127)}};class mo extends Nt{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&E(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const bo=t=>{t.count>0&&(En(t.encoder,t.count===1?t.s:-t.s),t.count>1&&E(t.encoder,t.count-2))};class ti{constructor(){this.encoder=new Nt,this.s=0,this.count=0}write(e){this.s===e?this.count++:(bo(this),this.count=1,this.s=e)}toUint8Array(){return bo(this),re(this.encoder)}}const wo=t=>{if(t.count>0){const e=t.diff<<1|(t.count===1?0:1);En(t.encoder,e),t.count>1&&E(t.encoder,t.count-2)}};class Hi{constructor(){this.encoder=new Nt,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(wo(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return wo(this),re(this.encoder)}}class _l{constructor(){this.sarr=[],this.s="",this.lensE=new ti}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Nt;return this.sarr.push(this.s),this.s="",qe(e,this.sarr.join("")),Mi(e,this.lensE.toUint8Array()),re(e)}}const xo=typeof crypto=="undefined"?null:crypto,yl=xo!==null?t=>{const e=new ArrayBuffer(t),i=new Uint8Array(e);return xo.getRandomValues(i),e}:t=>{const e=new ArrayBuffer(t),i=new Uint8Array(e);for(let n=0;n<t;n++)i[n]=Math.ceil(Math.random()*4294967295>>>0);return e},Cr=()=>new Uint32Array(yl(4))[0],kl=[1e7]+-1e3+-4e3+-8e3+-1e11,vl=()=>kl.replace(/[018]/g,t=>(t^Cr()&15>>t/4).toString(16)),Ii=t=>new Error(t),ae=()=>{throw Ii("Method unimplemented")},ee=()=>{throw Ii("Unexpected case")},Al=Object.keys,_o=t=>Al(t).length,Dl=(t,e)=>{for(const i in t)if(!e(t[i],i))return!1;return!0},Sl=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),El=(t,e)=>t===e||_o(t)===_o(e)&&Dl(t,(i,n)=>(i!==void 0||Sl(e,n))&&e[n]===i),Mn=(t,e,i=0)=>{try{for(;i<t.length;i++)t[i](...e)}finally{i<t.length&&Mn(t,e,i+1)}},pe=Symbol;class Cl{constructor(e,i){this.left=e,this.right=i}}const ce=(t,e)=>new Cl(t,e),je=typeof document!="undefined"?document:{};typeof DOMParser!="undefined"&&new DOMParser;const Ml=t=>Ba(t,(e,i)=>`${i}:${e};`).join("");je.ELEMENT_NODE;je.TEXT_NODE;je.CDATA_SECTION_NODE;je.COMMENT_NODE;je.DOCUMENT_NODE;je.DOCUMENT_TYPE_NODE;je.DOCUMENT_FRAGMENT_NODE;const of=Date.now,In=pe(),Nn=pe(),Mr=pe(),Ir=pe(),Nr=pe(),zn=pe(),zr=pe(),Tn=pe(),Tr=pe(),Il={[In]:ce("font-weight","bold"),[Nn]:ce("font-weight","normal"),[Mr]:ce("color","blue"),[Nr]:ce("color","green"),[Ir]:ce("color","grey"),[zn]:ce("color","red"),[zr]:ce("color","purple"),[Tn]:ce("color","orange"),[Tr]:ce("color","black")},Nl={[In]:"\x1B[1m",[Nn]:"\x1B[2m",[Mr]:"\x1B[34m",[Nr]:"\x1B[32m",[Ir]:"\x1B[37m",[zn]:"\x1B[31m",[zr]:"\x1B[35m",[Tn]:"\x1B[38;5;208m",[Tr]:"\x1B[0m"},zl=t=>{const e=[],i=[],n=se();let o=[],r=0;for(;r<t.length;r++){const s=t[r],a=Il[s];if(a!==void 0)n.set(a.left,a.right);else if(s.constructor===String||s.constructor===Number){const d=Ml(n);r>0||d.length>0?(e.push("%c"+s),i.push(d)):e.push(s)}else break}for(r>0&&(o=i,o.unshift(e.join("")));r<t.length;r++){const s=t[r];s instanceof Symbol||o.push(s)}return o},Tl=t=>{const e=[],i=[];let n=0;for(;n<t.length;n++){const o=t[n],r=Nl[o];if(r!==void 0)e.push(r);else if(o.constructor===String||o.constructor===Number)e.push(o);else break}for(n>0&&(e.push("\x1B[0m"),i.push(e.join("")));n<t.length;n++){const o=t[n];o instanceof Symbol||i.push(o)}return i},Ol=vn?Tl:zl,Rl=(...t)=>{console.log(...Ol(t)),Ll.forEach(e=>e.print(t))},Ll=new Set,Or=t=>({[Symbol.iterator](){return this},next:t}),Ul=(t,e)=>Or(()=>{let i;do i=t.next();while(!i.done&&!e(i.value));return i}),Pi=(t,e)=>Or(()=>{const{done:i,value:n}=t.next();return{done:i,value:i?void 0:e(n)}});class On{constructor(e,i){this.clock=e,this.len=i}}class zt{constructor(){this.clients=new Map}}const fn=(t,e,i)=>e.clients.forEach((n,o)=>{const r=t.doc.store.clients.get(o);for(let s=0;s<n.length;s++){const a=n[s];Yr(t,r,a.clock,a.len,i)}}),jl=(t,e)=>{let i=0,n=t.length-1;for(;i<=n;){const o=fi((i+n)/2),r=t[o],s=r.clock;if(s<=e){if(e<s+r.len)return o;i=o+1}else n=o-1}return null},Rr=(t,e)=>{const i=t.clients.get(e.client);return i!==void 0&&jl(i,e.clock)!==null},Rn=t=>{t.clients.forEach(e=>{e.sort((o,r)=>o.clock-r.clock);let i,n;for(i=1,n=1;i<e.length;i++){const o=e[n-1],r=e[i];o.clock+o.len>=r.clock?o.len=Ue(o.len,r.clock+r.len-o.clock):(n<i&&(e[n]=r),n++)}e.length=n})},Zl=t=>{const e=new zt;for(let i=0;i<t.length;i++)t[i].clients.forEach((n,o)=>{if(!e.clients.has(o)){const r=n.slice();for(let s=i+1;s<t.length;s++)Va(r,t[s].clients.get(o)||[]);e.clients.set(o,r)}});return Rn(e),e},pi=(t,e,i,n)=>{Se(t.clients,e,()=>[]).push(new On(i,n))},Lr=()=>new zt,Fl=t=>{const e=Lr();return t.clients.forEach((i,n)=>{const o=[];for(let r=0;r<i.length;r++){const s=i[r];if(s.deleted){const a=s.id.clock;let d=s.length;if(r+1<i.length)for(let l=i[r+1];r+1<i.length&&l.deleted;l=i[++r+1])d+=l.length;o.push(new On(a,d))}}o.length>0&&e.clients.set(n,o)}),e},Xe=(t,e)=>{E(t.restEncoder,e.clients.size),e.clients.forEach((i,n)=>{t.resetDsCurVal(),E(t.restEncoder,n);const o=i.length;E(t.restEncoder,o);for(let r=0;r<o;r++){const s=i[r];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},Ln=t=>{const e=new zt,i=v(t.restDecoder);for(let n=0;n<i;n++){t.resetDsCurVal();const o=v(t.restDecoder),r=v(t.restDecoder);if(r>0){const s=Se(e.clients,o,()=>[]);for(let a=0;a<r;a++)s.push(new On(t.readDsClock(),t.readDsLen()))}}return e},yo=(t,e,i)=>{const n=new zt,o=v(t.restDecoder);for(let r=0;r<o;r++){t.resetDsCurVal();const s=v(t.restDecoder),a=v(t.restDecoder),d=i.clients.get(s)||[],l=R(i,s);for(let c=0;c<a;c++){const f=t.readDsClock(),u=f+t.readDsLen();if(f<l){l<u&&pi(n,s,l,u-l);let h=le(d,f),p=d[h];for(!p.deleted&&p.id.clock<f&&(d.splice(h+1,0,_i(e,p,f-p.id.clock)),h++);h<d.length&&(p=d[h++],p.id.clock<u);)p.deleted||(u<p.id.clock+p.length&&d.splice(h,0,_i(e,p,u-p.id.clock)),p.delete(e))}else pi(n,s,f,u-f)}}if(n.clients.size>0){const r=new Ne;return E(r.restEncoder,0),Xe(r,n),r.toUint8Array()}return null},Ur=Cr;class et extends Ha{constructor({guid:e=vl(),gc:i=!0,gcFilter:n=()=>!0,meta:o=null,autoLoad:r=!1}={}){super(),this.gc=i,this.gcFilter=n,this.clientID=Ur(),this.guid=e,this.share=new Map,this.store=new Pr,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=r,this.autoLoad=r,this.meta=o}load(){const e=this._item;e!==null&&!this.shouldLoad&&z(e.parent.doc,i=>{i.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,i=null){z(this,e,i)}get(e,i=q){const n=Se(this.share,e,()=>{const r=new i;return r._integrate(this,null),r}),o=n.constructor;if(i!==q&&o!==i)if(o===q){const r=new i;r._map=n._map,n._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=r}),r._start=n._start;for(let s=r._start;s!==null;s=s.right)s.parent=r;return r._length=n._length,this.share.set(e,r),r._integrate(this,null),r}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,He)}getText(e=""){return this.get(e,We)}getMap(e=""){return this.get(e,Qe)}getXmlFragment(e=""){return this.get(e,ze)}toJSON(){const e={};return this.share.forEach((i,n)=>{e[n]=i.toJSON()}),e}destroy(){Ar(this.subdocs).forEach(i=>i.destroy());const e=this._item;if(e!==null){this._item=null;const i=e.content;e.deleted?i.doc=null:(i.doc=new et({guid:this.guid,...i.opts}),i.doc._item=e),z(e.parent.doc,n=>{e.deleted||n.subdocsAdded.add(i.doc),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,i){super.on(e,i)}off(e,i){super.off(e,i)}}class jr{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return v(this.restDecoder)}readDsLen(){return v(this.restDecoder)}}class Zr extends jr{readLeftID(){return y(v(this.restDecoder),v(this.restDecoder))}readRightID(){return y(v(this.restDecoder),v(this.restDecoder))}readClient(){return v(this.restDecoder)}readInfo(){return Ge(this.restDecoder)}readString(){return Be(this.restDecoder)}readParentInfo(){return v(this.restDecoder)===1}readTypeRef(){return v(this.restDecoder)}readLen(){return v(this.restDecoder)}readAny(){return bt(this.restDecoder)}readBuf(){return ul(G(this.restDecoder))}readJSON(){return JSON.parse(Be(this.restDecoder))}readKey(){return Be(this.restDecoder)}}class $l{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=v(this.restDecoder),this.dsCurrVal}readDsLen(){const e=v(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Ye extends $l{constructor(e){super(e),this.keys=[],v(e),this.keyClockDecoder=new Vi(G(e)),this.clientDecoder=new ei(G(e)),this.leftClockDecoder=new Vi(G(e)),this.rightClockDecoder=new Vi(G(e)),this.infoDecoder=new po(G(e),Ge),this.stringDecoder=new dl(G(e)),this.parentInfoDecoder=new po(G(e),Ge),this.typeRefDecoder=new ei(G(e)),this.lenDecoder=new ei(G(e))}readLeftID(){return new Ve(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ve(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return bt(this.restDecoder)}readBuf(){return G(this.restDecoder)}readJSON(){return bt(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const i=this.stringDecoder.read();return this.keys.push(i),i}}}class Bl{constructor(){this.restEncoder=Ci()}toUint8Array(){return re(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){E(this.restEncoder,e)}writeDsLen(e){E(this.restEncoder,e)}}class Tt extends Bl{writeLeftID(e){E(this.restEncoder,e.client),E(this.restEncoder,e.clock)}writeRightID(e){E(this.restEncoder,e.client),E(this.restEncoder,e.clock)}writeClient(e){E(this.restEncoder,e)}writeInfo(e){un(this.restEncoder,e)}writeString(e){qe(this.restEncoder,e)}writeParentInfo(e){E(this.restEncoder,e?1:0)}writeTypeRef(e){E(this.restEncoder,e)}writeLen(e){E(this.restEncoder,e)}writeAny(e){wt(this.restEncoder,e)}writeBuf(e){Y(this.restEncoder,e)}writeJSON(e){qe(this.restEncoder,JSON.stringify(e))}writeKey(e){qe(this.restEncoder,e)}}class ql{constructor(){this.restEncoder=Ci(),this.dsCurrVal=0}toUint8Array(){return re(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const i=e-this.dsCurrVal;this.dsCurrVal=e,E(this.restEncoder,i)}writeDsLen(e){e===0&&ee(),E(this.restEncoder,e-1),this.dsCurrVal+=e}}class Ne extends ql{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Hi,this.clientEncoder=new ti,this.leftClockEncoder=new Hi,this.rightClockEncoder=new Hi,this.infoEncoder=new mo(un),this.stringEncoder=new _l,this.parentInfoEncoder=new mo(un),this.typeRefEncoder=new ti,this.lenEncoder=new ti}toUint8Array(){const e=Ci();return E(e,0),Y(e,this.keyClockEncoder.toUint8Array()),Y(e,this.clientEncoder.toUint8Array()),Y(e,this.leftClockEncoder.toUint8Array()),Y(e,this.rightClockEncoder.toUint8Array()),Y(e,re(this.infoEncoder)),Y(e,this.stringEncoder.toUint8Array()),Y(e,re(this.parentInfoEncoder)),Y(e,this.typeRefEncoder.toUint8Array()),Y(e,this.lenEncoder.toUint8Array()),Mi(e,re(this.restEncoder)),re(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){wt(this.restEncoder,e)}writeBuf(e){Y(this.restEncoder,e)}writeJSON(e){wt(this.restEncoder,e)}writeKey(e){this.keyMap.get(e)===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(this.keyClock++)}}const Vl=(t,e,i,n)=>{n=Ue(n,e[0].id.clock);const o=le(e,n);E(t.restEncoder,e.length-o),t.writeClient(i),E(t.restEncoder,n);const r=e[o];r.write(t,n-r.id.clock);for(let s=o+1;s<e.length;s++)e[s].write(t,0)},Un=(t,e,i)=>{const n=new Map;i.forEach((o,r)=>{R(e,r)>o&&n.set(r,o)}),jn(e).forEach((o,r)=>{i.has(r)||n.set(r,0)}),E(t.restEncoder,n.size),Array.from(n.entries()).sort((o,r)=>r[0]-o[0]).forEach(([o,r])=>{Vl(t,e.clients.get(o),o,r)})},Hl=(t,e)=>{const i=se(),n=v(t.restDecoder);for(let o=0;o<n;o++){const r=v(t.restDecoder),s=new Array(r),a=t.readClient();let d=v(t.restDecoder);i.set(a,{i:0,refs:s});for(let l=0;l<r;l++){const c=t.readInfo();switch(Si&c){case 0:{const f=t.readLen();s[l]=new Q(y(a,d),f),d+=f;break}case 10:{const f=v(t.restDecoder);s[l]=new W(y(a,d),f),d+=f;break}default:{const f=(c&(fe|P))===0,u=new O(y(a,d),null,(c&P)===P?t.readLeftID():null,null,(c&fe)===fe?t.readRightID():null,f?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,f&&(c&mt)===mt?t.readString():null,us(t,c));s[l]=u,d+=u.length}}}}return i},Pl=(t,e,i)=>{const n=[];let o=Array.from(i.keys()).sort((h,p)=>h-p);if(o.length===0)return null;const r=()=>{if(o.length===0)return null;let h=i.get(o[o.length-1]);for(;h.refs.length===h.i;)if(o.pop(),o.length>0)h=i.get(o[o.length-1]);else return null;return h};let s=r();if(s===null&&n.length===0)return null;const a=new Pr,d=new Map,l=(h,p)=>{const m=d.get(h);(m==null||m>p)&&d.set(h,p)};let c=s.refs[s.i++];const f=new Map,u=()=>{for(const h of n){const p=h.id.client,m=i.get(p);m?(m.i--,a.clients.set(p,m.refs.slice(m.i)),i.delete(p),m.i=0,m.refs=[]):a.clients.set(p,[h]),o=o.filter(w=>w!==p)}n.length=0};for(;;){if(c.constructor!==W){const p=Se(f,c.id.client,()=>R(e,c.id.client))-c.id.clock;if(p<0)n.push(c),l(c.id.client,c.id.clock-1),u();else{const m=c.getMissing(t,e);if(m!==null){n.push(c);const w=i.get(m)||{refs:[],i:0};if(w.refs.length===w.i)l(m,R(e,m)),u();else{c=w.refs[w.i++];continue}}else(p===0||p<c.length)&&(c.integrate(t,p),f.set(c.id.client,c.id.clock+c.length))}}if(n.length>0)c=n.pop();else if(s!==null&&s.i<s.refs.length)c=s.refs[s.i++];else{if(s=r(),s===null)break;c=s.refs[s.i++]}}if(a.clients.size>0){const h=new Ne;return Un(h,a,new Map),E(h.restEncoder,0),{missing:d,update:h.toUint8Array()}}return null},Gl=(t,e)=>Un(t,e.doc.store,e.beforeState),Yl=(t,e,i,n=new Ye(t))=>z(e,o=>{o.local=!1;let r=!1;const s=o.doc,a=s.store,d=Hl(n,s),l=Pl(o,a,d),c=a.pendingStructs;if(c){for(const[u,h]of c.missing)if(h<R(a,u)){r=!0;break}if(l){for(const[u,h]of l.missing){const p=c.missing.get(u);(p==null||p>h)&&c.missing.set(u,h)}c.update=gi([c.update,l.update])}}else a.pendingStructs=l;const f=yo(n,o,a);if(a.pendingDs){const u=new Ye(Ke(a.pendingDs));v(u.restDecoder);const h=yo(u,o,a);f&&h?a.pendingDs=gi([f,h]):a.pendingDs=f||h}else a.pendingDs=f;if(r){const u=a.pendingStructs.update;a.pendingStructs=null,Fr(o.doc,u)}},i,!1),Fr=(t,e,i,n=Ye)=>{const o=Ke(e);Yl(o,t,i,new n(o))},$r=(t,e,i)=>Fr(t,e,i,Zr),Ql=(t,e,i=new Map)=>{Un(t,e.store,i),Xe(t,Fl(e.store))},Wl=(t,e=new Uint8Array([0]),i=new Ne)=>{const n=Br(e);Ql(i,t,n);const o=[i.toUint8Array()];if(t.store.pendingDs&&o.push(t.store.pendingDs),t.store.pendingStructs&&o.push(uc(t.store.pendingStructs.update,e)),o.length>1){if(i.constructor===Tt)return dc(o.map((r,s)=>s===0?r:pc(r)));if(i.constructor===Ne)return gi(o)}return o[0]},Jl=(t,e)=>Wl(t,e,new Tt),Kl=t=>{const e=new Map,i=v(t.restDecoder);for(let n=0;n<i;n++){const o=v(t.restDecoder),r=v(t.restDecoder);e.set(o,r)}return e},Br=t=>Kl(new jr(Ke(t)));class Xl{constructor(){this.l=[]}}const ko=()=>new Xl,vo=(t,e)=>t.l.push(e),Ao=(t,e)=>{const i=t.l,n=i.length;t.l=i.filter(o=>e!==o),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},qr=(t,e,i)=>Mn(t.l,[e,i]);class Ve{constructor(e,i){this.client=e,this.clock=i}}const Vt=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,y=(t,e)=>new Ve(t,e),Vr=t=>{for(const[e,i]of t.doc.share.entries())if(i===t)return e;throw ee()};class Hr{constructor(e,i,n,o=0){this.type=e,this.tname=i,this.item=n,this.assoc=o}}const pn=t=>new Hr(t.type==null?null:y(t.type.client,t.type.clock),t.tname||null,t.item==null?null:y(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class ec{constructor(e,i,n=0){this.type=e,this.index=i,this.assoc=n}}const tc=(t,e,i=0)=>new ec(t,e,i),Ht=(t,e,i)=>{let n=null,o=null;return t._item===null?o=Vr(t):n=y(t._item.id.client,t._item.id.clock),new Hr(n,o,e,i)},Gi=(t,e,i=0)=>{let n=t._start;if(i<0){if(e===0)return Ht(t,null,i);e--}for(;n!==null;){if(!n.deleted&&n.countable){if(n.length>e)return Ht(t,y(n.id.client,n.id.clock+e),i);e-=n.length}if(n.right===null&&i<0)return Ht(t,n.lastId,i);n=n.right}return Ht(t,null,i)},gn=(t,e)=>{const i=e.store,n=t.item,o=t.type,r=t.tname,s=t.assoc;let a=null,d=0;if(n!==null){if(R(i,n.client)<=n.clock)return null;const l=No(i,n),c=l.item;if(!(c instanceof O))return null;if(a=c.parent,a._item===null||!a._item.deleted){d=c.deleted||!c.countable?0:l.diff+(s>=0?0:1);let f=c.left;for(;f!==null;)!f.deleted&&f.countable&&(d+=f.length),f=f.left}}else{if(r!==null)a=e.get(r);else if(o!==null){if(R(i,o.client)<=o.clock)return null;const{item:l}=No(i,o);if(l instanceof O&&l.content instanceof it)a=l.content.type;else return null}else throw ee();s>=0?d=a._length:d=0}return tc(a,d,t.assoc)};class ic{constructor(e,i){this.ds=e,this.sv=i}}const nc=(t,e)=>new ic(t,e);nc(Lr(),new Map);const rt=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Rr(e.ds,t.id),ii=(t,e)=>{const i=Se(t.meta,ii,gt),n=t.doc.store;i.has(e)||(e.sv.forEach((o,r)=>{o<R(n,r)&&De(t,y(r,o))}),fn(t,e.ds,o=>{}),i.add(e))};class Pr{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const jn=t=>{const e=new Map;return t.clients.forEach((i,n)=>{const o=i[i.length-1];e.set(n,o.id.clock+o.length)}),e},R=(t,e)=>{const i=t.clients.get(e);if(i===void 0)return 0;const n=i[i.length-1];return n.id.clock+n.length},Gr=(t,e)=>{let i=t.clients.get(e.id.client);if(i===void 0)i=[],t.clients.set(e.id.client,i);else{const n=i[i.length-1];if(n.id.clock+n.length!==e.id.clock)throw ee()}i.push(e)},le=(t,e)=>{let i=0,n=t.length-1,o=t[n],r=o.id.clock;if(r===e)return n;let s=fi(e/(r+o.length-1)*n);for(;i<=n;){if(o=t[s],r=o.id.clock,r<=e){if(e<r+o.length)return s;i=s+1}else n=s-1;s=fi((i+n)/2)}throw ee()},oc=(t,e)=>{const i=t.clients.get(e.client);return i[le(i,e.clock)]},ni=oc,mn=(t,e,i)=>{const n=le(e,i),o=e[n];return o.id.clock<i&&o instanceof O?(e.splice(n+1,0,_i(t,o,i-o.id.clock)),n+1):n},De=(t,e)=>{const i=t.doc.store.clients.get(e.client);return i[mn(t,i,e.clock)]},Do=(t,e,i)=>{const n=e.clients.get(i.client),o=le(n,i.clock),r=n[o];return i.clock!==r.id.clock+r.length-1&&r.constructor!==Q&&n.splice(o+1,0,_i(t,r,i.clock-r.id.clock+1)),r},rc=(t,e,i)=>{const n=t.clients.get(e.id.client);n[le(n,e.id.clock)]=i},Yr=(t,e,i,n,o)=>{if(n===0)return;const r=i+n;let s=mn(t,e,i),a;do a=e[s++],r<a.id.clock+a.length&&mn(t,e,r),o(a);while(s<e.length&&e[s].id.clock<r)};class sc{constructor(e,i,n){this.doc=e,this.deleteSet=new zt,this.beforeState=jn(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=i,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const So=(t,e)=>e.deleteSet.clients.size===0&&!qa(e.afterState,(i,n)=>e.beforeState.get(n)!==i)?!1:(Rn(e.deleteSet),Gl(t,e),Xe(t,e.deleteSet),!0),Eo=(t,e,i)=>{const n=e._item;(n===null||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&Se(t.changed,e,gt).add(i)},oi=(t,e)=>{const i=t[e-1],n=t[e];i.deleted===n.deleted&&i.constructor===n.constructor&&i.mergeWith(n)&&(t.splice(e,1),n instanceof O&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,i))},ac=(t,e,i)=>{for(const[n,o]of t.clients.entries()){const r=e.clients.get(n);for(let s=o.length-1;s>=0;s--){const a=o[s],d=a.clock+a.len;for(let l=le(r,a.clock),c=r[l];l<r.length&&c.id.clock<d;c=r[++l]){const f=r[l];if(a.clock+a.len<=f.id.clock)break;f instanceof O&&f.deleted&&!f.keep&&i(f)&&f.gc(e,!1)}}}},lc=(t,e)=>{t.clients.forEach((i,n)=>{const o=e.clients.get(n);for(let r=i.length-1;r>=0;r--){const s=i[r],a=Dr(o.length-1,1+le(o,s.clock+s.len-1));for(let d=a,l=o[d];d>0&&l.id.clock>=s.clock;l=o[--d])oi(o,d)}})},Qr=(t,e)=>{if(e<t.length){const i=t[e],n=i.doc,o=n.store,r=i.deleteSet,s=i._mergeStructs;try{Rn(r),i.afterState=jn(i.doc.store),n._transaction=null,n.emit("beforeObserverCalls",[i,n]);const a=[];i.changed.forEach((d,l)=>a.push(()=>{(l._item===null||!l._item.deleted)&&l._callObserver(i,d)})),a.push(()=>{i.changedParentTypes.forEach((d,l)=>a.push(()=>{(l._item===null||!l._item.deleted)&&(d=d.filter(c=>c.target._item===null||!c.target._item.deleted),d.forEach(c=>{c.currentTarget=l}),d.sort((c,f)=>c.path.length-f.path.length),qr(l._dEH,d,i))})),a.push(()=>n.emit("afterTransaction",[i,n]))}),Mn(a,[])}finally{n.gc&&ac(r,o,n.gcFilter),lc(r,o),i.afterState.forEach((a,d)=>{const l=i.beforeState.get(d)||0;if(l!==a){const c=o.clients.get(d),f=Ue(le(c,l),1);for(let u=c.length-1;u>=f;u--)oi(c,u)}});for(let a=0;a<s.length;a++){const{client:d,clock:l}=s[a].id,c=o.clients.get(d),f=le(c,l);f+1<c.length&&oi(c,f+1),f>0&&oi(c,f)}if(!i.local&&i.afterState.get(n.clientID)!==i.beforeState.get(n.clientID)&&(n.clientID=Ur(),Rl(Tn,In,"[yjs] ",Nn,zn,"Changed the client-id because another client seems to be using it.")),n.emit("afterTransactionCleanup",[i,n]),n._observers.has("update")){const a=new Tt;So(a,i)&&n.emit("update",[a.toUint8Array(),i.origin,n,i])}if(n._observers.has("updateV2")){const a=new Ne;So(a,i)&&n.emit("updateV2",[a.toUint8Array(),i.origin,n,i])}i.subdocsAdded.forEach(a=>n.subdocs.add(a)),i.subdocsRemoved.forEach(a=>n.subdocs.delete(a)),n.emit("subdocs",[{loaded:i.subdocsLoaded,added:i.subdocsAdded,removed:i.subdocsRemoved}]),i.subdocsRemoved.forEach(a=>a.destroy()),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):Qr(t,e+1)}}},z=(t,e,i=null,n=!0)=>{const o=t._transactionCleanups;let r=!1;t._transaction===null&&(r=!0,t._transaction=new sc(t,i,n),o.push(t._transaction),o.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{r&&o[0]===t._transaction&&Qr(o,0)}};function*cc(t){const e=v(t.restDecoder);for(let i=0;i<e;i++){const n=v(t.restDecoder),o=t.readClient();let r=v(t.restDecoder);for(let s=0;s<n;s++){const a=t.readInfo();if(a===10){const d=v(t.restDecoder);yield new W(y(o,r),d),r+=d}else if((Si&a)!==0){const d=(a&(fe|P))===0,l=new O(y(o,r),null,(a&P)===P?t.readLeftID():null,null,(a&fe)===fe?t.readRightID():null,d?t.readParentInfo()?t.readString():t.readLeftID():null,d&&(a&mt)===mt?t.readString():null,us(t,a));yield l,r+=l.length}else{const d=t.readLen();yield new Q(y(o,r),d),r+=d}}}}class Zn{constructor(e,i){this.gen=cc(e),this.curr=null,this.done=!1,this.filterSkips=i,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===W);return this.curr}}class Fn{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const dc=t=>gi(t,Zr,Tt),hc=(t,e)=>{if(t.constructor===Q){const{client:i,clock:n}=t.id;return new Q(y(i,n+e),t.length-e)}else if(t.constructor===W){const{client:i,clock:n}=t.id;return new W(y(i,n+e),t.length-e)}else{const i=t,{client:n,clock:o}=i.id;return new O(y(n,o+e),null,y(n,o+e-1),null,i.rightOrigin,i.parent,i.parentSub,i.content.splice(e))}},gi=(t,e=Ye,i=Ne)=>{if(t.length===1)return t[0];const n=t.map(c=>new e(Ke(c)));let o=n.map(c=>new Zn(c,!0)),r=null;const s=new i,a=new Fn(s);for(;o=o.filter(u=>u.curr!==null),o.sort((u,h)=>{if(u.curr.id.client===h.curr.id.client){const p=u.curr.id.clock-h.curr.id.clock;return p===0?u.curr.constructor===h.curr.constructor?0:u.curr.constructor===W?1:-1:p}else return h.curr.id.client-u.curr.id.client}),o.length!==0;){const c=o[0],f=c.curr.id.client;if(r!==null){let u=c.curr,h=!1;for(;u!==null&&u.id.clock+u.length<=r.struct.id.clock+r.struct.length&&u.id.client>=r.struct.id.client;)u=c.next(),h=!0;if(u===null||u.id.client!==f||h&&u.id.clock>r.struct.id.clock+r.struct.length)continue;if(f!==r.struct.id.client)me(a,r.struct,r.offset),r={struct:u,offset:0},c.next();else if(r.struct.id.clock+r.struct.length<u.id.clock)if(r.struct.constructor===W)r.struct.length=u.id.clock+u.length-r.struct.id.clock;else{me(a,r.struct,r.offset);const p=u.id.clock-r.struct.id.clock-r.struct.length;r={struct:new W(y(f,r.struct.id.clock+r.struct.length),p),offset:0}}else{const p=r.struct.id.clock+r.struct.length-u.id.clock;p>0&&(r.struct.constructor===W?r.struct.length-=p:u=hc(u,p)),r.struct.mergeWith(u)||(me(a,r.struct,r.offset),r={struct:u,offset:0},c.next())}}else r={struct:c.curr,offset:0},c.next();for(let u=c.curr;u!==null&&u.id.client===f&&u.id.clock===r.struct.id.clock+r.struct.length&&u.constructor!==W;u=c.next())me(a,r.struct,r.offset),r={struct:u,offset:0}}r!==null&&(me(a,r.struct,r.offset),r=null),$n(a);const d=n.map(c=>Ln(c)),l=Zl(d);return Xe(s,l),s.toUint8Array()},uc=(t,e,i=Ye,n=Ne)=>{const o=Br(e),r=new n,s=new Fn(r),a=new i(Ke(t)),d=new Zn(a,!1);for(;d.curr;){const c=d.curr,f=c.id.client,u=o.get(f)||0;if(d.curr.constructor===W){d.next();continue}if(c.id.clock+c.length>u)for(me(s,c,Ue(u-c.id.clock,0)),d.next();d.curr&&d.curr.id.client===f;)me(s,d.curr,0),d.next();else for(;d.curr&&d.curr.id.client===f&&d.curr.id.clock+d.curr.length<=u;)d.next()}$n(s);const l=Ln(a);return Xe(r,l),r.toUint8Array()},Wr=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:re(t.encoder.restEncoder)}),t.encoder.restEncoder=Ci(),t.written=0)},me=(t,e,i)=>{t.written>0&&t.currClient!==e.id.client&&Wr(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),E(t.encoder.restEncoder,e.id.clock+i)),e.write(t.encoder,i),t.written++},$n=t=>{Wr(t);const e=t.encoder.restEncoder;E(e,t.clientStructs.length);for(let i=0;i<t.clientStructs.length;i++){const n=t.clientStructs[i];E(e,n.written),Mi(e,n.restEncoder)}},fc=(t,e,i)=>{const n=new e(Ke(t)),o=new Zn(n,!1),r=new i,s=new Fn(r);for(let d=o.curr;d!==null;d=o.next())me(s,d,0);$n(s);const a=Ln(n);return Xe(r,a),r.toUint8Array()},pc=t=>fc(t,Ye,Tt);class Ni{constructor(e,i){this.target=e,this.currentTarget=e,this.transaction=i,this._changes=null,this._keys=null,this._delta=null}get path(){return gc(this.currentTarget,this.target)}deletes(e){return Rr(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){const e=new Map,i=this.target;this.transaction.changed.get(i).forEach(o=>{if(o!==null){const r=i._map.get(o);let s,a;if(this.adds(r)){let d=r.left;for(;d!==null&&this.adds(d);)d=d.left;if(this.deletes(r))if(d!==null&&this.deletes(d))s="delete",a=Zi(d.content.getContent());else return;else d!==null&&this.deletes(d)?(s="update",a=Zi(d.content.getContent())):(s="add",a=void 0)}else if(this.deletes(r))s="delete",a=Zi(r.content.getContent());else return;e.set(o,{action:s,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){const i=this.target,n=gt(),o=gt(),r=[];if(e={added:n,deleted:o,delta:r,keys:this.keys},this.transaction.changed.get(i).has(null)){let a=null;const d=()=>{a&&r.push(a)};for(let l=i._start;l!==null;l=l.right)l.deleted?this.deletes(l)&&!this.adds(l)&&((a===null||a.delete===void 0)&&(d(),a={delete:0}),a.delete+=l.length,o.add(l)):this.adds(l)?((a===null||a.insert===void 0)&&(d(),a={insert:[]}),a.insert=a.insert.concat(l.content.getContent()),n.add(l)):((a===null||a.retain===void 0)&&(d(),a={retain:0}),a.retain+=l.length);a!==null&&a.retain===void 0&&d()}this._changes=e}return e}}const gc=(t,e)=>{const i=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)i.unshift(e._item.parentSub);else{let n=0,o=e._item.parent._start;for(;o!==e._item&&o!==null;)o.deleted||n++,o=o.right;i.unshift(n)}e=e._item.parent}return i},Jr=80;let Bn=0;class mc{constructor(e,i){e.marker=!0,this.p=e,this.index=i,this.timestamp=Bn++}}const bc=t=>{t.timestamp=Bn++},Kr=(t,e,i)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=i,t.timestamp=Bn++},wc=(t,e,i)=>{if(t.length>=Jr){const n=t.reduce((o,r)=>o.timestamp<r.timestamp?o:r);return Kr(n,e,i),n}else{const n=new mc(e,i);return t.push(n),n}},zi=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const i=t._searchMarker.length===0?null:t._searchMarker.reduce((r,s)=>Fi(e-r.index)<Fi(e-s.index)?r:s);let n=t._start,o=0;for(i!==null&&(n=i.p,o=i.index,bc(i));n.right!==null&&o<e;){if(!n.deleted&&n.countable){if(e<o+n.length)break;o+=n.length}n=n.right}for(;n.left!==null&&o>e;)n=n.left,!n.deleted&&n.countable&&(o-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(o-=n.length);return i!==null&&Fi(i.index-o)<n.parent.length/Jr?(Kr(i,n,o),i):wc(t._searchMarker,n,o)},xt=(t,e,i)=>{for(let n=t.length-1;n>=0;n--){const o=t[n];if(i>0){let r=o.p;for(r.marker=!1;r&&(r.deleted||!r.countable);)r=r.left,r&&!r.deleted&&r.countable&&(o.index-=r.length);if(r===null||r.marker===!0){t.splice(n,1);continue}o.p=r,r.marker=!0}(e<o.index||i>0&&e===o.index)&&(o.index=Ue(e,o.index+i))}},Ti=(t,e,i)=>{const n=t,o=e.changedParentTypes;for(;Se(o,t,()=>[]).push(i),t._item!==null;)t=t._item.parent;qr(n._eH,i,e)};class q{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=ko(),this._dEH=ko(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,i){this.doc=e,this._item=i}_copy(){throw ae()}clone(){throw ae()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,i){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){vo(this._eH,e)}observeDeep(e){vo(this._dEH,e)}unobserve(e){Ao(this._eH,e)}unobserveDeep(e){Ao(this._dEH,e)}toJSON(){}}const Xr=(t,e,i)=>{e<0&&(e=t._length+e),i<0&&(i=t._length+i);let n=i-e;const o=[];let r=t._start;for(;r!==null&&n>0;){if(r.countable&&!r.deleted){const s=r.content.getContent();if(s.length<=e)e-=s.length;else{for(let a=e;a<s.length&&n>0;a++)o.push(s[a]),n--;e=0}}r=r.right}return o},es=t=>{const e=[];let i=t._start;for(;i!==null;){if(i.countable&&!i.deleted){const n=i.content.getContent();for(let o=0;o<n.length;o++)e.push(n[o])}i=i.right}return e},Oi=(t,e)=>{let i=0,n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let r=0;r<o.length;r++)e(o[r],i++,t)}n=n.right}},ts=(t,e)=>{const i=[];return Oi(t,(n,o)=>{i.push(e(n,o,t))}),i},xc=t=>{let e=t._start,i=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(i===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};i=e.content.getContent(),n=0,e=e.right}const o=i[n++];return i.length<=n&&(i=null),{done:!1,value:o}}}},is=(t,e)=>{const i=zi(t,e);let n=t._start;for(i!==null&&(n=i.p,e-=i.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},bn=(t,e,i,n)=>{let o=i;const r=t.doc,s=r.clientID,a=r.store,d=i===null?e._start:i.right;let l=[];const c=()=>{l.length>0&&(o=new O(y(s,R(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new Te(l)),o.integrate(t,0),l=[])};n.forEach(f=>{switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(f);break;default:switch(c(),f.constructor){case Uint8Array:case ArrayBuffer:o=new O(y(s,R(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new Ot(new Uint8Array(f))),o.integrate(t,0);break;case et:o=new O(y(s,R(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new Rt(f)),o.integrate(t,0);break;default:if(f instanceof q)o=new O(y(s,R(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new it(f)),o.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),c()},ns=Ii("Length exceeded!"),os=(t,e,i,n)=>{if(i>e._length)throw ns;if(i===0)return e._searchMarker&&xt(e._searchMarker,i,n.length),bn(t,e,null,n);const o=i,r=zi(e,i);let s=e._start;for(r!==null&&(s=r.p,i-=r.index,i===0&&(s=s.prev,i+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(i<=s.length){i<s.length&&De(t,y(s.id.client,s.id.clock+i));break}i-=s.length}return e._searchMarker&&xt(e._searchMarker,o,n.length),bn(t,e,s,n)},rs=(t,e,i,n)=>{if(n===0)return;const o=i,r=n,s=zi(e,i);let a=e._start;for(s!==null&&(a=s.p,i-=s.index);a!==null&&i>0;a=a.right)!a.deleted&&a.countable&&(i<a.length&&De(t,y(a.id.client,a.id.clock+i)),i-=a.length);for(;n>0&&a!==null;)a.deleted||(n<a.length&&De(t,y(a.id.client,a.id.clock+n)),a.delete(t),n-=a.length),a=a.right;if(n>0)throw ns;e._searchMarker&&xt(e._searchMarker,o,-r+n)},mi=(t,e,i)=>{const n=e._map.get(i);n!==void 0&&n.delete(t)},qn=(t,e,i,n)=>{const o=e._map.get(i)||null,r=t.doc,s=r.clientID;let a;if(n==null)a=new Te([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Te([n]);break;case Uint8Array:a=new Ot(n);break;case et:a=new Rt(n);break;default:if(n instanceof q)a=new it(n);else throw new Error("Unexpected content type")}new O(y(s,R(r.store,s)),o,o&&o.lastId,null,null,e,i,a).integrate(t,0)},Vn=(t,e)=>{const i=t._map.get(e);return i!==void 0&&!i.deleted?i.content.getContent()[i.length-1]:void 0},ss=t=>{const e={};return t._map.forEach((i,n)=>{i.deleted||(e[n]=i.content.getContent()[i.length-1])}),e},as=(t,e)=>{const i=t._map.get(e);return i!==void 0&&!i.deleted},Pt=t=>Ul(t.entries(),e=>!e[1].deleted);class _c extends Ni{constructor(e,i){super(e,i),this._transaction=i}}class He extends q{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const i=new He;return i.push(e),i}_integrate(e,i){super._integrate(e,i),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new He}clone(){const e=new He;return e.insert(0,this.toArray().map(i=>i instanceof q?i.clone():i)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,i){super._callObserver(e,i),Ti(this,e,new _c(this,e))}insert(e,i){this.doc!==null?z(this.doc,n=>{os(n,this,e,i)}):this._prelimContent.splice(e,0,...i)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}delete(e,i=1){this.doc!==null?z(this.doc,n=>{rs(n,this,e,i)}):this._prelimContent.splice(e,i)}get(e){return is(this,e)}toArray(){return es(this)}slice(e=0,i=this.length){return Xr(this,e,i)}toJSON(){return this.map(e=>e instanceof q?e.toJSON():e)}map(e){return ts(this,e)}forEach(e){Oi(this,e)}[Symbol.iterator](){return xc(this)}_write(e){e.writeTypeRef(qc)}}const yc=t=>new He;class kc extends Ni{constructor(e,i,n){super(e,i),this.keysChanged=n}}class Qe extends q{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,i){super._integrate(e,i),this._prelimContent.forEach((n,o)=>{this.set(o,n)}),this._prelimContent=null}_copy(){return new Qe}clone(){const e=new Qe;return this.forEach((i,n)=>{e.set(n,i instanceof q?i.clone():i)}),e}_callObserver(e,i){Ti(this,e,new kc(this,e,i))}toJSON(){const e={};return this._map.forEach((i,n)=>{if(!i.deleted){const o=i.content.getContent()[i.length-1];e[n]=o instanceof q?o.toJSON():o}}),e}get size(){return[...Pt(this._map)].length}keys(){return Pi(Pt(this._map),e=>e[0])}values(){return Pi(Pt(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Pi(Pt(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){const i={};return this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)}),i}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?z(this.doc,i=>{mi(i,this,e)}):this._prelimContent.delete(e)}set(e,i){return this.doc!==null?z(this.doc,n=>{qn(n,this,e,i)}):this._prelimContent.set(e,i),i}get(e){return Vn(this,e)}has(e){return as(this,e)}clear(){this.doc!==null?z(this.doc,e=>{this.forEach(function(i,n,o){mi(e,o,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Vc)}}const vc=t=>new Qe,we=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&El(t,e);class wn{constructor(e,i,n,o){this.left=e,this.right=i,this.index=n,this.currentAttributes=o}forward(){switch(this.right===null&&ee(),this.right.content.constructor){case H:case B:this.right.deleted||(this.index+=this.right.length);break;case Z:this.right.deleted||tt(this.currentAttributes,this.right.content);break}this.left=this.right,this.right=this.right.right}}const Co=(t,e,i)=>{for(;e.right!==null&&i>0;){switch(e.right.content.constructor){case H:case B:e.right.deleted||(i<e.right.length&&De(t,y(e.right.id.client,e.right.id.clock+i)),e.index+=e.right.length,i-=e.right.length);break;case Z:e.right.deleted||tt(e.currentAttributes,e.right.content);break}e.left=e.right,e.right=e.right.right}return e},Gt=(t,e,i)=>{const n=new Map,o=zi(e,i);if(o){const r=new wn(o.p.left,o.p,o.index,n);return Co(t,r,i-o.index)}else{const r=new wn(null,e._start,0,n);return Co(t,r,i)}},ls=(t,e,i,n)=>{for(;i.right!==null&&(i.right.deleted===!0||i.right.content.constructor===Z&&we(n.get(i.right.content.key),i.right.content.value));)i.right.deleted||n.delete(i.right.content.key),i.forward();const o=t.doc,r=o.clientID;n.forEach((s,a)=>{const d=i.left,l=i.right,c=new O(y(r,R(o.store,r)),d,d&&d.lastId,l,l&&l.id,e,null,new Z(a,s));c.integrate(t,0),i.right=c,i.forward()})},tt=(t,e)=>{const{key:i,value:n}=e;n===null?t.delete(i):t.set(i,n)},cs=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Z&&we(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},ds=(t,e,i,n)=>{const o=t.doc,r=o.clientID,s=new Map;for(const a in n){const d=n[a],l=i.currentAttributes.get(a)||null;if(!we(l,d)){s.set(a,l);const{left:c,right:f}=i;i.right=new O(y(r,R(o.store,r)),c,c&&c.lastId,f,f&&f.id,e,null,new Z(a,d)),i.right.integrate(t,0),i.forward()}}return s},Yi=(t,e,i,n,o)=>{i.currentAttributes.forEach((u,h)=>{o[h]===void 0&&(o[h]=null)});const r=t.doc,s=r.clientID;cs(i,o);const a=ds(t,e,i,o),d=n.constructor===String?new B(n):new H(n);let{left:l,right:c,index:f}=i;e._searchMarker&&xt(e._searchMarker,i.index,d.getLength()),c=new O(y(s,R(r.store,s)),l,l&&l.lastId,c,c&&c.id,e,null,d),c.integrate(t,0),i.right=c,i.index=f,i.forward(),ls(t,e,i,a)},Mo=(t,e,i,n,o)=>{const r=t.doc,s=r.clientID;cs(i,o);const a=ds(t,e,i,o);for(;n>0&&i.right!==null;){if(!i.right.deleted)switch(i.right.content.constructor){case Z:{const{key:d,value:l}=i.right.content,c=o[d];c!==void 0&&(we(c,l)?a.delete(d):a.set(d,l),i.right.delete(t));break}case H:case B:n<i.right.length&&De(t,y(i.right.id.client,i.right.id.clock+n)),n-=i.right.length;break}i.forward()}if(n>0){let d="";for(;n>0;n--)d+=`
`;i.right=new O(y(s,R(r.store,s)),i.left,i.left&&i.left.lastId,i.right,i.right&&i.right.id,e,null,new B(d)),i.right.integrate(t,0),i.forward()}ls(t,e,i,a)},hs=(t,e,i,n,o)=>{for(;i&&i.content.constructor!==B&&i.content.constructor!==H;)!i.deleted&&i.content.constructor===Z&&tt(o,i.content),i=i.right;let r=0;for(;e!==i;){if(!e.deleted){const s=e.content;switch(s.constructor){case Z:{const{key:a,value:d}=s;((o.get(a)||null)!==d||(n.get(a)||null)===d)&&(e.delete(t),r++);break}}}e=e.right}return r},Ac=(t,e)=>{for(;e&&e.right&&(e.right.deleted||e.right.content.constructor!==B&&e.right.content.constructor!==H);)e=e.right;const i=new Set;for(;e&&(e.deleted||e.content.constructor!==B&&e.content.constructor!==H);){if(!e.deleted&&e.content.constructor===Z){const n=e.content.key;i.has(n)?e.delete(t):i.add(n)}e=e.left}},Dc=t=>{let e=0;return z(t.doc,i=>{let n=t._start,o=t._start,r=se();const s=ui(r);for(;o;){if(o.deleted===!1)switch(o.content.constructor){case Z:tt(s,o.content);break;case H:case B:e+=hs(i,n,o,r,s),r=ui(s),n=o;break}o=o.right}}),e},Io=(t,e,i)=>{const n=i,o=ui(e.currentAttributes),r=e.right;for(;i>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case H:case B:i<e.right.length&&De(t,y(e.right.id.client,e.right.id.clock+i)),i-=e.right.length,e.right.delete(t);break}e.forward()}r&&hs(t,r,e.right,o,ui(e.currentAttributes));const s=(e.left||e.right).parent;return s._searchMarker&&xt(s._searchMarker,e.index,-n+i),e};class Sc extends Ni{constructor(e,i,n){super(e,i),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(o=>{o===null?this.childListChanged=!0:this.keysChanged.add(o)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,i=[];z(e,n=>{const o=new Map,r=new Map;let s=this.target._start,a=null;const d={};let l="",c=0,f=0;const u=()=>{if(a!==null){let h;switch(a){case"delete":h={delete:f},f=0;break;case"insert":h={insert:l},o.size>0&&(h.attributes={},o.forEach((p,m)=>{p!==null&&(h.attributes[m]=p)})),l="";break;case"retain":if(h={retain:c},Object.keys(d).length>0){h.attributes={};for(const p in d)h.attributes[p]=d[p]}c=0;break}i.push(h),a=null}};for(;s!==null;){switch(s.content.constructor){case H:this.adds(s)?this.deletes(s)||(u(),a="insert",l=s.content.embed,u()):this.deletes(s)?(a!=="delete"&&(u(),a="delete"),f+=1):s.deleted||(a!=="retain"&&(u(),a="retain"),c+=1);break;case B:this.adds(s)?this.deletes(s)||(a!=="insert"&&(u(),a="insert"),l+=s.content.str):this.deletes(s)?(a!=="delete"&&(u(),a="delete"),f+=s.length):s.deleted||(a!=="retain"&&(u(),a="retain"),c+=s.length);break;case Z:{const{key:h,value:p}=s.content;if(this.adds(s)){if(!this.deletes(s)){const m=o.get(h)||null;we(m,p)?s.delete(n):(a==="retain"&&u(),we(p,r.get(h)||null)?delete d[h]:d[h]=p)}}else if(this.deletes(s)){r.set(h,p);const m=o.get(h)||null;we(m,p)||(a==="retain"&&u(),d[h]=m)}else if(!s.deleted){r.set(h,p);const m=d[h];m!==void 0&&(we(m,p)?s.delete(n):(a==="retain"&&u(),p===null?d[h]=p:delete d[h]))}s.deleted||(a==="insert"&&u(),tt(o,s.content));break}}s=s.right}for(u();i.length>0;){const h=i[i.length-1];if(h.retain!==void 0&&h.attributes===void 0)i.pop();else break}}),this._delta=i}return this._delta}}class We extends q{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,i){super._integrate(e,i);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new We}clone(){const e=new We;return e.applyDelta(this.toDelta()),e}_callObserver(e,i){super._callObserver(e,i);const n=new Sc(this,e,i),o=e.doc;if(Ti(this,e,n),!e.local){let r=!1;for(const[s,a]of e.afterState.entries()){const d=e.beforeState.get(s)||0;if(a!==d&&(Yr(e,o.store.clients.get(s),d,a,l=>{!l.deleted&&l.content.constructor===Z&&(r=!0)}),r))break}r||fn(e,e.deleteSet,s=>{s instanceof Q||r||s.parent===this&&s.content.constructor===Z&&(r=!0)}),z(o,s=>{r?Dc(this):fn(s,s.deleteSet,a=>{a instanceof Q||a.parent===this&&Ac(s,a)})})}}toString(){let e="",i=this._start;for(;i!==null;)!i.deleted&&i.countable&&i.content.constructor===B&&(e+=i.content.str),i=i.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:i=!0}={}){this.doc!==null?z(this.doc,n=>{const o=new wn(null,this._start,0,new Map);for(let r=0;r<e.length;r++){const s=e[r];if(s.insert!==void 0){const a=!i&&typeof s.insert=="string"&&r===e.length-1&&o.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof a!="string"||a.length>0)&&Yi(n,this,o,a,s.attributes||{})}else s.retain!==void 0?Mo(n,this,o,s.retain,s.attributes||{}):s.delete!==void 0&&Io(n,o,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,i,n){const o=[],r=new Map,s=this.doc;let a="",d=this._start;function l(){if(a.length>0){const c={};let f=!1;r.forEach((h,p)=>{f=!0,c[p]=h});const u={insert:a};f&&(u.attributes=c),o.push(u),a=""}}return z(s,c=>{for(e&&ii(c,e),i&&ii(c,i);d!==null;){if(rt(d,e)||i!==void 0&&rt(d,i))switch(d.content.constructor){case B:{const f=r.get("ychange");e!==void 0&&!rt(d,e)?(f===void 0||f.user!==d.id.client||f.state!=="removed")&&(l(),r.set("ychange",n?n("removed",d.id):{type:"removed"})):i!==void 0&&!rt(d,i)?(f===void 0||f.user!==d.id.client||f.state!=="added")&&(l(),r.set("ychange",n?n("added",d.id):{type:"added"})):f!==void 0&&(l(),r.delete("ychange")),a+=d.content.str;break}case H:{l();const f={insert:d.content.embed};if(r.size>0){const u={};f.attributes=u,r.forEach((h,p)=>{u[p]=h})}o.push(f);break}case Z:rt(d,e)&&(l(),tt(r,d.content));break}d=d.right}l()},ii),o}insert(e,i,n){if(i.length<=0)return;const o=this.doc;o!==null?z(o,r=>{const s=Gt(r,this,e);n||(n={},s.currentAttributes.forEach((a,d)=>{n[d]=a})),Yi(r,this,s,i,n)}):this._pending.push(()=>this.insert(e,i,n))}insertEmbed(e,i,n={}){if(i.constructor!==Object)throw new Error("Embed must be an Object");const o=this.doc;o!==null?z(o,r=>{const s=Gt(r,this,e);Yi(r,this,s,i,n)}):this._pending.push(()=>this.insertEmbed(e,i,n))}delete(e,i){if(i===0)return;const n=this.doc;n!==null?z(n,o=>{Io(o,Gt(o,this,e),i)}):this._pending.push(()=>this.delete(e,i))}format(e,i,n){if(i===0)return;const o=this.doc;o!==null?z(o,r=>{const s=Gt(r,this,e);s.right!==null&&Mo(r,this,s,i,n)}):this._pending.push(()=>this.format(e,i,n))}removeAttribute(e){this.doc!==null?z(this.doc,i=>{mi(i,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,i){this.doc!==null?z(this.doc,n=>{qn(n,this,e,i)}):this._pending.push(()=>this.setAttribute(e,i))}getAttribute(e){return Vn(this,e)}getAttributes(e){return ss(this)}_write(e){e.writeTypeRef(Hc)}}const Ec=t=>new We;class Qi{constructor(e,i=()=>!0){this._filter=i,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,i=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(i)))do if(i=e.content.type,!e.deleted&&(i.constructor===_t||i.constructor===ze)&&i._start!==null)e=i._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class ze extends q{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,i){super._integrate(e,i),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ze}clone(){const e=new ze;return e.insert(0,this.toArray().map(i=>i instanceof q?i.clone():i)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Qi(this,e)}querySelector(e){e=e.toUpperCase();const n=new Qi(this,o=>o.nodeName&&o.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new Qi(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e))}_callObserver(e,i){Ti(this,e,new Ic(this,i,e))}toString(){return ts(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,i={},n){const o=e.createDocumentFragment();return n!==void 0&&n._createAssociation(o,this),Oi(this,r=>{o.insertBefore(r.toDOM(e,i,n),null)}),o}insert(e,i){this.doc!==null?z(this.doc,n=>{os(n,this,e,i)}):this._prelimContent.splice(e,0,...i)}insertAfter(e,i){if(this.doc!==null)z(this.doc,n=>{const o=e&&e instanceof q?e._item:e;bn(n,this,o,i)});else{const n=this._prelimContent,o=e===null?0:n.findIndex(r=>r===e)+1;if(o===0&&e!==null)throw Ii("Reference item not found");n.splice(o,0,...i)}}delete(e,i=1){this.doc!==null?z(this.doc,n=>{rs(n,this,e,i)}):this._prelimContent.splice(e,i)}toArray(){return es(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return is(this,e)}slice(e=0,i=this.length){return Xr(this,e,i)}_write(e){e.writeTypeRef(Gc)}}const Cc=t=>new ze;class _t extends ze{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,i){super._integrate(e,i),this._prelimAttrs.forEach((n,o)=>{this.setAttribute(o,n)}),this._prelimAttrs=null}_copy(){return new _t(this.nodeName)}clone(){const e=new _t(this.nodeName),i=this.getAttributes();for(const n in i)e.setAttribute(n,i[n]);return e.insert(0,this.toArray().map(n=>n instanceof q?n.clone():n)),e}toString(){const e=this.getAttributes(),i=[],n=[];for(const a in e)n.push(a);n.sort();const o=n.length;for(let a=0;a<o;a++){const d=n[a];i.push(d+'="'+e[d]+'"')}const r=this.nodeName.toLocaleLowerCase(),s=i.length>0?" "+i.join(" "):"";return`<${r}${s}>${super.toString()}</${r}>`}removeAttribute(e){this.doc!==null?z(this.doc,i=>{mi(i,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,i){this.doc!==null?z(this.doc,n=>{qn(n,this,e,i)}):this._prelimAttrs.set(e,i)}getAttribute(e){return Vn(this,e)}hasAttribute(e){return as(this,e)}getAttributes(e){return ss(this)}toDOM(e=document,i={},n){const o=e.createElement(this.nodeName),r=this.getAttributes();for(const s in r)o.setAttribute(s,r[s]);return Oi(this,s=>{o.appendChild(s.toDOM(e,i,n))}),n!==void 0&&n._createAssociation(o,this),o}_write(e){e.writeTypeRef(Pc),e.writeKey(this.nodeName)}}const Mc=t=>new _t(t.readKey());class Ic extends Ni{constructor(e,i,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,i.forEach(o=>{o===null?this.childListChanged=!0:this.attributesChanged.add(o)})}}class bi extends Qe{constructor(e){super(),this.hookName=e}_copy(){return new bi(this.hookName)}clone(){const e=new bi(this.hookName);return this.forEach((i,n)=>{e.set(n,i)}),e}toDOM(e=document,i={},n){const o=i[this.hookName];let r;return o!==void 0?r=o.createDom(this):r=document.createElement(this.hookName),r.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(Yc),e.writeKey(this.hookName)}}const Nc=t=>new bi(t.readKey());class wi extends We{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new wi}clone(){const e=new wi;return e.applyDelta(this.toDelta()),e}toDOM(e=document,i,n){const o=e.createTextNode(this.toString());return n!==void 0&&n._createAssociation(o,this),o}toString(){return this.toDelta().map(e=>{const i=[];for(const o in e.attributes){const r=[];for(const s in e.attributes[o])r.push({key:s,value:e.attributes[o][s]});r.sort((s,a)=>s.key<a.key?-1:1),i.push({nodeName:o,attrs:r})}i.sort((o,r)=>o.nodeName<r.nodeName?-1:1);let n="";for(let o=0;o<i.length;o++){const r=i[o];n+=`<${r.nodeName}`;for(let s=0;s<r.attrs.length;s++){const a=r.attrs[s];n+=` ${a.key}="${a.value}"`}n+=">"}n+=e.insert;for(let o=i.length-1;o>=0;o--)n+=`</${i[o].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Qc)}}const zc=t=>new wi;class Hn{constructor(e,i){this.id=e,this.length=i}get deleted(){throw ae()}mergeWith(e){return!1}write(e,i,n){throw ae()}integrate(e,i){throw ae()}}const Tc=0;class Q extends Hn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,i){i>0&&(this.id.clock+=i,this.length-=i),Gr(e.doc.store,this)}write(e,i){e.writeInfo(Tc),e.writeLen(this.length-i)}getMissing(e,i){return null}}class Ot{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Ot(this.content)}splice(e){throw ae()}mergeWith(e){return!1}integrate(e,i){}delete(e){}gc(e){}write(e,i){e.writeBuf(this.content)}getRef(){return 3}}const Oc=t=>new Ot(t.readBuf());class yt{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new yt(this.len)}splice(e){const i=new yt(this.len-e);return this.len=e,i}mergeWith(e){return this.len+=e.len,!0}integrate(e,i){pi(e.deleteSet,i.id.client,i.id.clock,this.len),i.markDeleted()}delete(e){}gc(e){}write(e,i){e.writeLen(this.len-i)}getRef(){return 1}}const Rc=t=>new yt(t.readLen());class Rt{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const i={};this.opts=i,e.gc||(i.gc=!1),e.autoLoad&&(i.autoLoad=!0),e.meta!==null&&(i.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Rt(this.doc)}splice(e){throw ae()}mergeWith(e){return!1}integrate(e,i){this.doc._item=i,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,i){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const Lc=t=>new Rt(new et({guid:t.readString(),...t.readAny()}));class H{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new H(this.embed)}splice(e){throw ae()}mergeWith(e){return!1}integrate(e,i){}delete(e){}gc(e){}write(e,i){e.writeJSON(this.embed)}getRef(){return 5}}const Uc=t=>new H(t.readJSON());class Z{constructor(e,i){this.key=e,this.value=i}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Z(this.key,this.value)}splice(e){throw ae()}mergeWith(e){return!1}integrate(e,i){i.parent._searchMarker=null}delete(e){}gc(e){}write(e,i){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const jc=t=>new Z(t.readString(),t.readJSON());class xi{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new xi(this.arr)}splice(e){const i=new xi(this.arr.slice(e));return this.arr=this.arr.slice(0,e),i}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,i){}delete(e){}gc(e){}write(e,i){const n=this.arr.length;e.writeLen(n-i);for(let o=i;o<n;o++){const r=this.arr[o];e.writeString(r===void 0?"undefined":JSON.stringify(r))}}getRef(){return 2}}const Zc=t=>{const e=t.readLen(),i=[];for(let n=0;n<e;n++){const o=t.readString();o==="undefined"?i.push(void 0):i.push(JSON.parse(o))}return new xi(i)};class Te{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Te(this.arr)}splice(e){const i=new Te(this.arr.slice(e));return this.arr=this.arr.slice(0,e),i}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,i){}delete(e){}gc(e){}write(e,i){const n=this.arr.length;e.writeLen(n-i);for(let o=i;o<n;o++){const r=this.arr[o];e.writeAny(r)}}getRef(){return 8}}const Fc=t=>{const e=t.readLen(),i=[];for(let n=0;n<e;n++)i.push(t.readAny());return new Te(i)};class B{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new B(this.str)}splice(e){const i=new B(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",i.str="\uFFFD"+i.str.slice(1)),i}mergeWith(e){return this.str+=e.str,!0}integrate(e,i){}delete(e){}gc(e){}write(e,i){e.writeString(i===0?this.str:this.str.slice(i))}getRef(){return 4}}const $c=t=>new B(t.readString()),Bc=[yc,vc,Ec,Mc,Cc,Nc,zc],qc=0,Vc=1,Hc=2,Pc=3,Gc=4,Yc=5,Qc=6;class it{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new it(this.type._copy())}splice(e){throw ae()}mergeWith(e){return!1}integrate(e,i){this.type._integrate(e.doc,i)}delete(e){let i=this.type._start;for(;i!==null;)i.deleted?e._mergeStructs.push(i):i.delete(e),i=i.right;this.type._map.forEach(n=>{n.deleted?e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let i=this.type._start;for(;i!==null;)i.gc(e,!0),i=i.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,i){this.type._write(e)}getRef(){return 7}}const Wc=t=>new it(Bc[t.readTypeRef()](t)),No=(t,e)=>{let i=e,n=0,o;do n>0&&(i=y(i.client,i.clock+n)),o=ni(t,i),n=i.clock-o.id.clock,i=o.redone;while(i!==null&&o instanceof O);return{item:o,diff:n}};const _i=(t,e,i)=>{const{client:n,clock:o}=e.id,r=new O(y(n,o+i),e,y(n,o+i-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(i));return e.deleted&&r.markDeleted(),e.keep&&(r.keep=!0),e.redone!==null&&(r.redone=y(e.redone.client,e.redone.clock+i)),e.right=r,r.right!==null&&(r.right.left=r),t._mergeStructs.push(r),r.parentSub!==null&&r.right===null&&r.parent._map.set(r.parentSub,r),e.length=i,r};class O extends Hn{constructor(e,i,n,o,r,s,a,d){super(e,d.getLength()),this.origin=n,this.left=i,this.right=o,this.rightOrigin=r,this.parent=s,this.parentSub=a,this.redone=null,this.content=d,this.info=this.content.isCountable()?fo:0}set marker(e){(this.info&qi)>0!==e&&(this.info^=qi)}get marker(){return(this.info&qi)>0}get keep(){return(this.info&uo)>0}set keep(e){this.keep!==e&&(this.info^=uo)}get countable(){return(this.info&fo)>0}get deleted(){return(this.info&Bi)>0}set deleted(e){this.deleted!==e&&(this.info^=Bi)}markDeleted(){this.info|=Bi}getMissing(e,i){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=R(i,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=R(i,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ve&&this.id.client!==this.parent.client&&this.parent.clock>=R(i,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Do(e,i,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=De(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===Q||this.right&&this.right.constructor===Q)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===O&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===O&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Ve){const n=ni(i,this.parent);n.constructor===Q?this.parent=null:this.parent=n.content.type}return null}integrate(e,i){if(i>0&&(this.id.clock+=i,this.left=Do(e,e.doc.store,y(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(i),this.length-=i),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,o;if(n!==null)o=n.right;else if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start;const r=new Set,s=new Set;for(;o!==null&&o!==this.right;){if(s.add(o),r.add(o),Vt(this.origin,o.origin)){if(o.id.client<this.id.client)n=o,r.clear();else if(Vt(this.rightOrigin,o.rightOrigin))break}else if(o.origin!==null&&s.has(ni(e.doc.store,o.origin)))r.has(ni(e.doc.store,o.origin))||(n=o,r.clear());else break;o=o.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Gr(e.doc.store,this),this.content.integrate(e,this),Eo(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Q(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:y(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Vt(e.origin,this.lastId)&&this.right===e&&Vt(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const i=this.parent._searchMarker;return i&&i.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const i=this.parent;this.countable&&this.parentSub===null&&(i._length-=this.length),this.markDeleted(),pi(e.deleteSet,this.id.client,this.id.clock,this.length),Eo(e,i,this.parentSub),this.content.delete(e)}}gc(e,i){if(!this.deleted)throw ee();this.content.gc(e),i?rc(e,this,new Q(this.id,this.length)):this.content=new yt(this.length)}write(e,i){const n=i>0?y(this.id.client,this.id.clock+i-1):this.origin,o=this.rightOrigin,r=this.parentSub,s=this.content.getRef()&Si|(n===null?0:P)|(o===null?0:fe)|(r===null?0:mt);if(e.writeInfo(s),n!==null&&e.writeLeftID(n),o!==null&&e.writeRightID(o),n===null&&o===null){const a=this.parent;if(a._item!==void 0){const d=a._item;if(d===null){const l=Vr(a);e.writeParentInfo(!0),e.writeString(l)}else e.writeParentInfo(!1),e.writeLeftID(d.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===Ve?(e.writeParentInfo(!1),e.writeLeftID(a)):ee();r!==null&&e.writeString(r)}this.content.write(e,i)}}const us=(t,e)=>Jc[e&Si](t),Jc=[()=>{ee()},Rc,Zc,Oc,$c,Uc,jc,Wc,Fc,Lc,()=>{ee()}],Kc=10;class W extends Hn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,i){ee()}write(e,i){e.writeInfo(Kc),E(e.restEncoder,this.length-i)}getMissing(e,i){return null}}const Xc=typeof atob=="function",ed=typeof btoa=="function",Ri=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const td="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lt=Array.prototype.slice.call(td),Yt=(t=>{let e={};return t.forEach((i,n)=>e[i]=n),e})(lt),id=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ri=String.fromCharCode.bind(String),zo=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=i=>i)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),nd=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),fs=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),od=t=>{let e,i,n,o,r="";const s=t.length%3;for(let a=0;a<t.length;){if((i=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(o=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=i<<16|n<<8|o,r+=lt[e>>18&63]+lt[e>>12&63]+lt[e>>6&63]+lt[e&63]}return s?r.slice(0,s-3)+"===".substring(s):r},rd=ed?t=>btoa(t):Ri?t=>Buffer.from(t,"binary").toString("base64"):od,To=Ri?t=>Buffer.from(t).toString("base64"):t=>{let i=[];for(let n=0,o=t.length;n<o;n+=4096)i.push(ri.apply(null,t.subarray(n,n+4096)));return rd(i.join(""))},ps=(t,e=!1)=>e?nd(To(t)):To(t),sd=t=>{if(t=t.replace(/\s+/g,""),!id.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,i="",n,o;for(let r=0;r<t.length;)e=Yt[t.charAt(r++)]<<18|Yt[t.charAt(r++)]<<12|(n=Yt[t.charAt(r++)])<<6|(o=Yt[t.charAt(r++)]),i+=n===64?ri(e>>16&255):o===64?ri(e>>16&255,e>>8&255):ri(e>>16&255,e>>8&255,e&255);return i},ad=Xc?t=>atob(fs(t)):Ri?t=>Buffer.from(t,"base64").toString("binary"):sd,ld=Ri?t=>zo(Buffer.from(t,"base64")):t=>zo(ad(t),e=>e.charCodeAt(0)),gs=t=>ld(cd(t)),cd=t=>fs(t.replace(/[-_]/g,e=>e=="-"?"+":"/"));class dd{constructor(e,i,n,o){this.context=e,this.attrs=i,this.doc=n,this.yText=o,this.isDocDestroyed=!1,this.sideEffect=new Ai,this.textAttr=i.text,this.textAttr&&$r(this.doc,gs(this.textAttr),this),this.sideEffect.add(()=>e.mobxUtils.autorun(()=>{this.textAttr=i.text})),this.setupYDocPersistence()}destroy(){this.sideEffect.flushAll()}setupYDocPersistence(){const e=()=>{this.sideEffect.setTimeout(()=>{const i=ps(Jl(this.doc));i!==this.textAttr&&this.context.updateAttributes(["text"],i)},1e3,"setAttrs")};this.sideEffect.add(()=>{const i=()=>{this.isDocDestroyed=!0};return this.doc.on("destroy",i),()=>this.doc.off("destroy",i)}),this.sideEffect.add(()=>{const i=(n,o)=>{!this.isDocDestroyed&&o!=="_remote_edit_"&&e()};return this.doc.on("update",i),()=>this.doc.off("update",i)})}}const hd=()=>{let t=!0;return(e,i)=>{if(t){t=!1;try{e()}finally{t=!0}}else i!==void 0&&i()}};class ud{constructor(){this.style=document.createElement("style"),document.body.appendChild(this.style)}addRule(e){try{const i=this.style.sheet;if(i){const n=i.insertRule(e);return i.cssRules.item(n)}}catch{return null}return null}deleteRule(e){try{const i=this.style.sheet;if(i){for(let n=0;n<i.cssRules.length;n++)if(e===i.cssRules.item(n)){i.deleteRule(n);break}}}catch{return}}destroy(){this.style.remove()}}class fd{constructor(e,i,n,o,r,s,a,d,l){this.doc=e,this.monaco=i,this.monacoEditor=n,this.monacoModel=o,this.userID=r,this.userName=s,this.decorationID=a,this.cursorColor=d,this.styleManager=l,this.labelVisible=!1,this.hideLabelTimeout=NaN,this.cursorVisible=!1,this.hideCursorTimeout=NaN,this.lastLineNumber=-1,this.lastColumn=-1,this.cursorClassName=`netless-app-monaco-cursor-${this.decorationID}`}renderCursor(e,i){if(this.monacoModel.isDisposed())return;const n=e!==this.rawCursorSrc;if(n&&(this.rawCursorSrc=e,this.cursor=void 0,e))try{this.cursor=JSON.parse(e)}catch(o){console.warn(o)}if(this.cursor)try{const o=gn(pn(this.cursor),this.doc);if(o){const r=this.monacoModel.getPositionAt(o.index);let s=`netless-app-monaco-cursor ${this.cursorClassName}`;return r.lineNumber<=1&&(s+=" netless-app-monaco-cursor-first-line"),this.monacoEditor.getLayoutInfo().width-this.monacoEditor.getOffsetForColumn(r.lineNumber,r.column)<200&&(s+=" netless-app-monaco-cursor-right"),(n||i===this.userID&&(r.lineNumber!==this.lastLineNumber||r.column!==this.lastColumn))&&(this.setCursorVisible(!0),this.setLabelVisible(!0),this.lastLineNumber=r.lineNumber,this.lastColumn=r.column),{range:new this.monaco.Range(r.lineNumber,r.column,r.lineNumber,r.column+1),options:{className:s,hoverMessage:{value:this.userName}}}}}catch(o){console.warn(o)}this.clearCursor()}setLabelVisible(e){window.clearTimeout(this.hideLabelTimeout),e?this.styleRule&&(this.labelVisible||(this.styleRule.style.setProperty("--label","block"),this.styleRule.style.setProperty("--dot","none"),this.labelVisible=!0),this.hideLabelTimeout=setTimeout(()=>this.setLabelVisible(!1),3e3)):this.styleRule&&this.labelVisible&&(this.styleRule.style.setProperty("--label","none"),this.styleRule.style.setProperty("--dot","block"),this.labelVisible=!1)}setCursorVisible(e){window.clearTimeout(this.hideCursorTimeout),e?this.styleRule&&(this.cursorVisible||(this.styleRule.style.setProperty("display","block"),this.cursorVisible=!0),this.hideCursorTimeout=setTimeout(()=>this.setCursorVisible(!1),8e3)):this.styleRule&&this.cursorVisible&&(this.styleRule.style.setProperty("display","none"),this.cursorVisible=!1)}clearCursor(){window.clearTimeout(this.hideCursorTimeout),window.clearTimeout(this.hideLabelTimeout)}destroy(){this.clearCursor(),this._styleRuleMemo&&this.styleManager.deleteRule(this._styleRuleMemo)}get styleRule(){return this._styleRuleMemo||(this._styleRuleMemo=this.styleManager.addRule(`.${this.cursorClassName} { --content: "${this.userName}"; --bg-color: ${this.cursorColor}; }`)),this._styleRuleMemo}}const ms=class{constructor(t,e,i,n,o,r,s,a){this.doc=t,this.monaco=e,this.monacoEditor=i,this.monacoModel=n,this.userID=o,this.userName=r,this.cursorColor=s,this.styleManager=a,this.cursorDecorations=[]}setCursors(t){this.rawCursorStrList=t}renderCursors(t){const e=this.rawCursorStrList||[],i=[];let n=0;for(;n<e.length;n++){this.cursorDecorations[n]||(this.cursorDecorations[n]=new fd(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.genDecorationID(),this.cursorColor,this.styleManager));const o=this.cursorDecorations[n].renderCursor(e[n],t);o&&i.push(o)}if(n<this.cursorDecorations.length){for(let o=n;o<this.cursorDecorations.length;o++)this.cursorDecorations[o]&&this.cursorDecorations[o].clearCursor();this.cursorDecorations.length=n}return i}destroy(){this.cursorDecorations.forEach(t=>{t.destroy()}),this.cursorDecorations.length=0}genDecorationID(){return ms._decorationID++}};let bs=ms;bs._decorationID=0;class pd{constructor(e,i,n,o,r,s,a){this.doc=e,this.monaco=i,this.monacoEditor=n,this.monacoModel=o,this.useID=r,this.selectionColor=s,this.styleManager=a,this.selectionDecorations=[],this.selectionClassName=`netless-app-monaco-selection-${this.useID}`,this.styleRule=this.styleManager.addRule(`.${this.selectionClassName} { background: ${s}; }`)}setSelections(e){if(e!==this.rawSelectionsStr&&(this.rawSelectionsStr=e,this.selections=void 0,this.rawSelectionsStr))try{const i=JSON.parse(this.rawSelectionsStr);Array.isArray(i)&&(this.selections=i)}catch(i){console.warn(i)}}renderSelections(){const e=[];return this.selections&&!this.monacoModel.isDisposed()&&this.selections.forEach(i=>{if(i.start&&i.end){const n=gn(pn(i.start),this.doc),o=gn(pn(i.end),this.doc);if(n&&o){const r=this.monacoModel.getPositionAt(n.index),s=this.monacoModel.getPositionAt(o.index);e.push({range:new this.monaco.Range(r.lineNumber,r.column,s.lineNumber,s.column),options:{zIndex:-1,className:`netless-app-monaco-selection ${this.selectionClassName}`}})}}}),e}destroy(){this.styleRule&&this.styleManager.deleteRule(this.styleRule)}}class gd{constructor(e,i,n,o,r,s){this.doc=e,this.monaco=i,this.monacoEditor=n,this.monacoModel=o,this.userID=r,this.userName=s,this.styleManager=new ud,this.cursorColor=eo({luminosity:"dark"}),this.selectionColor=eo({hue:this.cursorColor,luminosity:"light"}),this.selectionDecorations=new pd(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.selectionColor,this.styleManager),this.cursorDecorations=new bs(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.cursorColor,this.styleManager)}setCursor(e){this.cursorDecorations.setCursors(e)}setSelection(e){this.selectionDecorations.setSelections(e)}rerender(e=this.userID){return[...this.cursorDecorations.renderCursors(e),...this.selectionDecorations.renderSelections()]}destroy(){this.cursorDecorations.destroy(),this.selectionDecorations.destroy(),this.styleManager.destroy()}}class md{constructor(e,i,n,o,r,s,a,d){this.context=e,this.attrs=i,this.box=n,this.monaco=o,this.monacoEditor=r,this.doc=s,this.yText=a,this.readonly=d,this.decorations=new Map,this.mux=hd(),this.deltaDecorations=[],this.cursorPositions=[];const l=r.getModel();if(this.authorId=String(this.context.displayer.observerId),this.MagixMonacoDocChannel=this.context.appId+"AppMonacoDoc",!l)throw new Error("[NetlessAppMonaco] No Monaco Model");this.monacoModel=l,this.sideEffect=new Ai,this.observerId=String(e.displayer.observerId),this.setupDecorations(),this.setupAttrsUpdate(),this.setupDocUpdate(),this.setupYText(),this.setupMembers()}setReadonly(e){e!==this.readonly&&(this.readonly=e,e||(this.broadcastCursors(),this.broadcastSelections()))}clearDecorationAttrs(){this.context.updateAttributes(["cursors",this.observerId],void 0),this.context.updateAttributes(["selections",this.observerId],void 0)}destroy(){this.sideEffect.flushAll(),this.decorations.forEach(e=>e.destroy()),this.decorations.clear(),this.clearDecorationAttrs()}setupYText(){this.sideEffect.add(()=>{const e=i=>{this.mux(()=>{if(this.monacoModel.isDisposed())return;let n=0;i.delta.forEach(o=>{if(o.retain!=null)n+=o.retain;else if(o.insert!=null){const r=this.monacoModel.getPositionAt(n),s=new this.monaco.Selection(r.lineNumber,r.column,r.lineNumber,r.column);this.monacoModel.applyEdits([{range:s,text:String(o.insert),forceMoveMarkers:!0}]),n+=o.insert.length}else if(o.delete!=null){const r=this.monacoModel.getPositionAt(n),s=this.monacoModel.getPositionAt(n+o.delete),a=new this.monaco.Selection(r.lineNumber,r.column,s.lineNumber,s.column);this.monacoModel.applyEdits([{range:a,text:""}])}else console.error("Unexpected yText Observer")})})};return this.yText.observe(e),()=>this.yText.unobserve(e)}),this.monacoModel.setValue(this.yText.toString()),this.sideEffect.add(()=>{const e=this.monacoModel.onDidChangeContent(i=>{this.mux(()=>{this.doc.transact(()=>{i.changes.sort((n,o)=>o.rangeOffset-n.rangeOffset).forEach(n=>{this.yText.delete(n.rangeOffset,n.rangeLength),this.yText.insert(n.rangeOffset,n.text)})},this)})});return()=>e.dispose()})}setupDocUpdate(){const e=this.context.displayer;this.sideEffect.add(()=>{const i=n=>{if(this.authorId=String(n.authorId),n.authorId!==e.observerId)try{$r(this.doc,gs(n.payload),"_remote_edit_")}catch(o){console.warn(o)}};return e.addMagixEventListener(this.MagixMonacoDocChannel,i),()=>e.removeMagixEventListener(this.MagixMonacoDocChannel,i)}),this.sideEffect.add(()=>{const i=(n,o)=>{if(o!=="_remote_edit_"&&this.context.isWritable){const r=this.context.room;r&&(this.authorId=String(e.observerId),r.dispatchMagixEvent(this.MagixMonacoDocChannel,ps(n)))}};return this.doc.on("update",i),()=>this.doc.off("update",i)})}setupDecorations(){this.sideEffect.add(()=>{const e=this.monacoEditor.onDidChangeCursorPosition(i=>{this.cursorPositions=[i.position,...i.secondaryPositions],this.readonly||this.broadcastCursors()});return()=>e.dispose()}),this.sideEffect.add(()=>{const e=this.monacoEditor.onDidChangeCursorSelection(()=>{this.readonly||this.broadcastSelections()});return()=>e.dispose()})}broadcastCursors(){try{const e=this.cursorPositions.map(i=>JSON.stringify(Gi(this.yText,this.monacoModel.getOffsetAt(i))));this.context.updateAttributes(["cursors",this.observerId],e)}catch(e){console.warn(e)}}broadcastSelections(){const e=this.monacoEditor.getSelections();if(e)try{const i=JSON.stringify(e.filter(n=>!this.monaco.Selection.isEmpty(n)).map(n=>({start:Gi(this.yText,this.monacoModel.getOffsetAt(n.getStartPosition())),end:Gi(this.yText,this.monacoModel.getOffsetAt(n.getEndPosition()))})));this.context.updateAttributes(["selections",this.observerId],i)}catch(i){console.warn(i)}}setupAttrsUpdate(){this.sideEffect.add(()=>{const e=()=>{this.context.displayer.state.roomMembers.forEach(i=>{var o,r,s;const n=String(i.memberId);if(n!==this.observerId){let a=this.decorations.get(n);a||(a=new gd(this.doc,this.monaco,this.monacoEditor,this.monacoModel,n,((o=i.payload)==null?void 0:o.nickName)||n),this.decorations.set(n,a)),a.setCursor((r=this.attrs.cursors)==null?void 0:r[n]),a.setSelection((s=this.attrs.selections)==null?void 0:s[n]),this.renderDecorations()}})};return this.context.emitter.on("attributesUpdate",e),()=>this.context.emitter.off("attributesUpdate",e)})}setupMembers(){this.sideEffect.add(()=>{const e=i=>{if(i.roomMembers){const n=new Set(i.roomMembers.map(o=>String(o.memberId)));this.decorations.forEach((o,r)=>{n.has(r)||(o.destroy(),this.decorations.delete(r))}),this.attrs.cursors&&Object.keys(this.attrs.cursors).forEach(o=>{n.has(o)||this.context.updateAttributes(["cursors",o],void 0)}),this.attrs.selections&&Object.keys(this.attrs.selections).forEach(o=>{n.has(o)||this.context.updateAttributes(["selections",o],void 0)})}};return this.context.emitter.on("roomStateChange",e),()=>this.context.emitter.off("roomStateChange",e)})}renderDecorations(){const e=[];this.decorations.forEach(i=>{e.push(...i.rerender(this.authorId))}),this.deltaDecorations=this.monacoModel.deltaDecorations(this.deltaDecorations,e)}}class bd{constructor(e,i,n){this.context=e,this.attrs=i,this.compiler=n,this.content="",this.namespace="netless-app-monaco-terminal",this.sideEffect=new Ai,this.$content=document.createElement("pre"),this.$content.className=`${this.namespace} tele-fancy-scrollbar`,this.content=this.attrs.terminal,this.render(),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.terminal,o=>{o!=null&&o!==this.content&&(this.content=o,this.render())})),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.codeRunning,()=>{this.render()}))}async runCode(e,i){this.updateCodeRunning(!0),this.updateTerminal(await this.compiler.runCode(e,i)),this.updateCodeRunning(!1)}updateTerminal(e){e!==this.attrs.terminal&&this.context.updateAttributes(["terminal"],e)}updateCodeRunning(e){e!==this.attrs.codeRunning&&(this.context.updateAttributes(["codeRunning"],e),e&&this.context.updateAttributes(["terminal"],""))}render(){this.attrs.codeRunning?(this.$content.style.display="block",this.$content.textContent=`Code Running...
`):this.content?(this.$content.style.display="block",this.$content.textContent=this.content):this.$content.style.display="none"}wrapClassName(e){return`${this.namespace}-${e}`}}/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const wd=4,Oo=0,Ro=1,xd=2;function nt(t){let e=t.length;for(;--e>=0;)t[e]=0}const _d=0,ws=1,yd=2,kd=3,vd=258,Pn=29,Lt=256,kt=Lt+1+Pn,Pe=30,Gn=19,xs=2*kt+1,Ce=15,Wi=16,Ad=7,Yn=256,_s=16,ys=17,ks=18,xn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),si=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Dd=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),vs=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sd=512,he=new Array((kt+2)*2);nt(he);const ht=new Array(Pe*2);nt(ht);const vt=new Array(Sd);nt(vt);const At=new Array(vd-kd+1);nt(At);const Qn=new Array(Pn);nt(Qn);const yi=new Array(Pe);nt(yi);function Ji(t,e,i,n,o){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}let As,Ds,Ss;function Ki(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Es=t=>t<256?vt[t]:vt[256+(t>>>7)],Dt=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},V=(t,e,i)=>{t.bi_valid>Wi-i?(t.bi_buf|=e<<t.bi_valid&65535,Dt(t,t.bi_buf),t.bi_buf=e>>Wi-t.bi_valid,t.bi_valid+=i-Wi):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},ne=(t,e,i)=>{V(t,i[e*2],i[e*2+1])},Cs=(t,e)=>{let i=0;do i|=t&1,t>>>=1,i<<=1;while(--e>0);return i>>>1},Ed=t=>{t.bi_valid===16?(Dt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Cd=(t,e)=>{const i=e.dyn_tree,n=e.max_code,o=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,d=e.stat_desc.max_length;let l,c,f,u,h,p,m=0;for(u=0;u<=Ce;u++)t.bl_count[u]=0;for(i[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<xs;l++)c=t.heap[l],u=i[i[c*2+1]*2+1]+1,u>d&&(u=d,m++),i[c*2+1]=u,!(c>n)&&(t.bl_count[u]++,h=0,c>=a&&(h=s[c-a]),p=i[c*2],t.opt_len+=p*(u+h),r&&(t.static_len+=p*(o[c*2+1]+h)));if(m!==0){do{for(u=d-1;t.bl_count[u]===0;)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[d]--,m-=2}while(m>0);for(u=d;u!==0;u--)for(c=t.bl_count[u];c!==0;)f=t.heap[--l],!(f>n)&&(i[f*2+1]!==u&&(t.opt_len+=(u-i[f*2+1])*i[f*2],i[f*2+1]=u),c--)}},Ms=(t,e,i)=>{const n=new Array(Ce+1);let o=0,r,s;for(r=1;r<=Ce;r++)n[r]=o=o+i[r-1]<<1;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=Cs(n[a]++,a))}},Md=()=>{let t,e,i,n,o;const r=new Array(Ce+1);for(i=0,n=0;n<Pn-1;n++)for(Qn[n]=i,t=0;t<1<<xn[n];t++)At[i++]=n;for(At[i-1]=n,o=0,n=0;n<16;n++)for(yi[n]=o,t=0;t<1<<si[n];t++)vt[o++]=n;for(o>>=7;n<Pe;n++)for(yi[n]=o<<7,t=0;t<1<<si[n]-7;t++)vt[256+o++]=n;for(e=0;e<=Ce;e++)r[e]=0;for(t=0;t<=143;)he[t*2+1]=8,t++,r[8]++;for(;t<=255;)he[t*2+1]=9,t++,r[9]++;for(;t<=279;)he[t*2+1]=7,t++,r[7]++;for(;t<=287;)he[t*2+1]=8,t++,r[8]++;for(Ms(he,kt+1,r),t=0;t<Pe;t++)ht[t*2+1]=5,ht[t*2]=Cs(t,5);As=new Ji(he,xn,Lt+1,kt,Ce),Ds=new Ji(ht,si,0,Pe,Ce),Ss=new Ji(new Array(0),Dd,0,Gn,Ad)},Is=t=>{let e;for(e=0;e<kt;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Pe;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Gn;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Yn*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},Ns=t=>{t.bi_valid>8?Dt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Id=(t,e,i,n)=>{Ns(t),n&&(Dt(t,i),Dt(t,~i)),t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i},Lo=(t,e,i,n)=>{const o=e*2,r=i*2;return t[o]<t[r]||t[o]===t[r]&&n[e]<=n[i]},Xi=(t,e,i)=>{const n=t.heap[i];let o=i<<1;for(;o<=t.heap_len&&(o<t.heap_len&&Lo(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!Lo(e,n,t.heap[o],t.depth));)t.heap[i]=t.heap[o],i=o,o<<=1;t.heap[i]=n},Uo=(t,e,i)=>{let n,o,r=0,s,a;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+r*2]<<8|t.pending_buf[t.d_buf+r*2+1],o=t.pending_buf[t.l_buf+r],r++,n===0?ne(t,o,e):(s=At[o],ne(t,s+Lt+1,e),a=xn[s],a!==0&&(o-=Qn[s],V(t,o,a)),n--,s=Es(n),ne(t,s,i),a=si[s],a!==0&&(n-=yi[s],V(t,n,a)));while(r<t.last_lit);ne(t,Yn,e)},_n=(t,e)=>{const i=e.dyn_tree,n=e.stat_desc.static_tree,o=e.stat_desc.has_stree,r=e.stat_desc.elems;let s,a,d=-1,l;for(t.heap_len=0,t.heap_max=xs,s=0;s<r;s++)i[s*2]!==0?(t.heap[++t.heap_len]=d=s,t.depth[s]=0):i[s*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=d<2?++d:0,i[l*2]=1,t.depth[l]=0,t.opt_len--,o&&(t.static_len-=n[l*2+1]);for(e.max_code=d,s=t.heap_len>>1;s>=1;s--)Xi(t,i,s);l=r;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Xi(t,i,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,i[l*2]=i[s*2]+i[a*2],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,i[s*2+1]=i[a*2+1]=l,t.heap[1]=l++,Xi(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Cd(t,e),Ms(i,d,t.bl_count)},jo=(t,e,i)=>{let n,o=-1,r,s=e[0*2+1],a=0,d=7,l=4;for(s===0&&(d=138,l=3),e[(i+1)*2+1]=65535,n=0;n<=i;n++)r=s,s=e[(n+1)*2+1],!(++a<d&&r===s)&&(a<l?t.bl_tree[r*2]+=a:r!==0?(r!==o&&t.bl_tree[r*2]++,t.bl_tree[_s*2]++):a<=10?t.bl_tree[ys*2]++:t.bl_tree[ks*2]++,a=0,o=r,s===0?(d=138,l=3):r===s?(d=6,l=3):(d=7,l=4))},Zo=(t,e,i)=>{let n,o=-1,r,s=e[0*2+1],a=0,d=7,l=4;for(s===0&&(d=138,l=3),n=0;n<=i;n++)if(r=s,s=e[(n+1)*2+1],!(++a<d&&r===s)){if(a<l)do ne(t,r,t.bl_tree);while(--a!==0);else r!==0?(r!==o&&(ne(t,r,t.bl_tree),a--),ne(t,_s,t.bl_tree),V(t,a-3,2)):a<=10?(ne(t,ys,t.bl_tree),V(t,a-3,3)):(ne(t,ks,t.bl_tree),V(t,a-11,7));a=0,o=r,s===0?(d=138,l=3):r===s?(d=6,l=3):(d=7,l=4)}},Nd=t=>{let e;for(jo(t,t.dyn_ltree,t.l_desc.max_code),jo(t,t.dyn_dtree,t.d_desc.max_code),_n(t,t.bl_desc),e=Gn-1;e>=3&&t.bl_tree[vs[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},zd=(t,e,i,n)=>{let o;for(V(t,e-257,5),V(t,i-1,5),V(t,n-4,4),o=0;o<n;o++)V(t,t.bl_tree[vs[o]*2+1],3);Zo(t,t.dyn_ltree,e-1),Zo(t,t.dyn_dtree,i-1)},Td=t=>{let e=4093624447,i;for(i=0;i<=31;i++,e>>>=1)if(e&1&&t.dyn_ltree[i*2]!==0)return Oo;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Ro;for(i=32;i<Lt;i++)if(t.dyn_ltree[i*2]!==0)return Ro;return Oo};let Fo=!1;const Od=t=>{Fo||(Md(),Fo=!0),t.l_desc=new Ki(t.dyn_ltree,As),t.d_desc=new Ki(t.dyn_dtree,Ds),t.bl_desc=new Ki(t.bl_tree,Ss),t.bi_buf=0,t.bi_valid=0,Is(t)},zs=(t,e,i,n)=>{V(t,(_d<<1)+(n?1:0),3),Id(t,e,i,!0)},Rd=t=>{V(t,ws<<1,3),ne(t,Yn,he),Ed(t)},Ld=(t,e,i,n)=>{let o,r,s=0;t.level>0?(t.strm.data_type===xd&&(t.strm.data_type=Td(t)),_n(t,t.l_desc),_n(t,t.d_desc),s=Nd(t),o=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=o&&(o=r)):o=r=i+5,i+4<=o&&e!==-1?zs(t,e,i,n):t.strategy===wd||r===o?(V(t,(ws<<1)+(n?1:0),3),Uo(t,he,ht)):(V(t,(yd<<1)+(n?1:0),3),zd(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Uo(t,t.dyn_ltree,t.dyn_dtree)),Is(t),n&&Ns(t)},Ud=(t,e,i)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=i&255,t.last_lit++,e===0?t.dyn_ltree[i*2]++:(t.matches++,e--,t.dyn_ltree[(At[i]+Lt+1)*2]++,t.dyn_dtree[Es(e)*2]++),t.last_lit===t.lit_bufsize-1);var jd=Od,Zd=zs,Fd=Ld,$d=Ud,Bd=Rd,qd={_tr_init:jd,_tr_stored_block:Zd,_tr_flush_block:Fd,_tr_tally:$d,_tr_align:Bd};const Vd=(t,e,i,n)=>{let o=t&65535|0,r=t>>>16&65535|0,s=0;for(;i!==0;){s=i>2e3?2e3:i,i-=s;do o=o+e[n++]|0,r=r+o|0;while(--s);o%=65521,r%=65521}return o|r<<16|0};var St=Vd;const Hd=()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[i]=t}return e},Pd=new Uint32Array(Hd()),Gd=(t,e,i,n)=>{const o=Pd,r=n+i;t^=-1;for(let s=n;s<r;s++)t=t>>>8^o[(t^e[s])&255];return t^-1};var j=Gd,Je={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ut={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Yd,_tr_stored_block:Qd,_tr_flush_block:Wd,_tr_tally:ke,_tr_align:Jd}=qd,{Z_NO_FLUSH:Ze,Z_PARTIAL_FLUSH:Kd,Z_FULL_FLUSH:Xd,Z_FINISH:ve,Z_BLOCK:$o,Z_OK:oe,Z_STREAM_END:Bo,Z_STREAM_ERROR:J,Z_DATA_ERROR:eh,Z_BUF_ERROR:en,Z_DEFAULT_COMPRESSION:th,Z_FILTERED:ih,Z_HUFFMAN_ONLY:Qt,Z_RLE:nh,Z_FIXED:oh,Z_DEFAULT_STRATEGY:rh,Z_UNKNOWN:sh,Z_DEFLATED:Li}=Ut,ah=9,lh=15,ch=8,dh=29,hh=256,yn=hh+1+dh,uh=30,fh=19,ph=2*yn+1,gh=15,D=3,xe=258,X=xe+D+1,mh=32,Ui=42,kn=69,ai=73,li=91,ci=103,Me=113,ct=666,L=1,jt=2,Oe=3,ot=4,bh=3,_e=(t,e)=>(t.msg=Je[e],e),qo=t=>(t<<1)-(t>4?9:0),be=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let wh=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask,Ae=wh;const ge=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),i!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,e.pending===0&&(e.pending_out=0))},$=(t,e)=>{Wd(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ge(t.strm)},S=(t,e)=>{t.pending_buf[t.pending++]=e},st=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},xh=(t,e,i,n)=>{let o=t.avail_in;return o>n&&(o=n),o===0?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),i),t.state.wrap===1?t.adler=St(t.adler,e,o,i):t.state.wrap===2&&(t.adler=j(t.adler,e,o,i)),t.next_in+=o,t.total_in+=o,o)},Ts=(t,e)=>{let i=t.max_chain_length,n=t.strstart,o,r,s=t.prev_length,a=t.nice_match;const d=t.strstart>t.w_size-X?t.strstart-(t.w_size-X):0,l=t.window,c=t.w_mask,f=t.prev,u=t.strstart+xe;let h=l[n+s-1],p=l[n+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do if(o=e,!(l[o+s]!==p||l[o+s-1]!==h||l[o]!==l[n]||l[++o]!==l[n+1])){n+=2,o++;do;while(l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&n<u);if(r=xe-(u-n),n=u-xe,r>s){if(t.match_start=e,s=r,r>=a)break;h=l[n+s-1],p=l[n+s]}}while((e=f[e&c])>d&&--i!==0);return s<=t.lookahead?s:t.lookahead},Re=t=>{const e=t.w_size;let i,n,o,r,s;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-X)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,i=n;do o=t.head[--i],t.head[i]=o>=e?o-e:0;while(--n);n=e,i=n;do o=t.prev[--i],t.prev[i]=o>=e?o-e:0;while(--n);r+=e}if(t.strm.avail_in===0)break;if(n=xh(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=D)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Ae(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Ae(t,t.ins_h,t.window[s+D-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<D)););}while(t.lookahead<X&&t.strm.avail_in!==0)},_h=(t,e)=>{let i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Re(t),t.lookahead===0&&e===Ze)return L;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+i;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,$(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-X&&($(t,!1),t.strm.avail_out===0))return L}return t.insert=0,e===ve?($(t,!0),t.strm.avail_out===0?Oe:ot):(t.strstart>t.block_start&&($(t,!1),t.strm.avail_out===0),L)},tn=(t,e)=>{let i,n;for(;;){if(t.lookahead<X){if(Re(t),t.lookahead<X&&e===Ze)return L;if(t.lookahead===0)break}if(i=0,t.lookahead>=D&&(t.ins_h=Ae(t,t.ins_h,t.window[t.strstart+D-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),i!==0&&t.strstart-i<=t.w_size-X&&(t.match_length=Ts(t,i)),t.match_length>=D)if(n=ke(t,t.strstart-t.match_start,t.match_length-D),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=D){t.match_length--;do t.strstart++,t.ins_h=Ae(t,t.ins_h,t.window[t.strstart+D-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ae(t,t.ins_h,t.window[t.strstart+1]);else n=ke(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&($(t,!1),t.strm.avail_out===0))return L}return t.insert=t.strstart<D-1?t.strstart:D-1,e===ve?($(t,!0),t.strm.avail_out===0?Oe:ot):t.last_lit&&($(t,!1),t.strm.avail_out===0)?L:jt},Fe=(t,e)=>{let i,n,o;for(;;){if(t.lookahead<X){if(Re(t),t.lookahead<X&&e===Ze)return L;if(t.lookahead===0)break}if(i=0,t.lookahead>=D&&(t.ins_h=Ae(t,t.ins_h,t.window[t.strstart+D-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=D-1,i!==0&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-X&&(t.match_length=Ts(t,i),t.match_length<=5&&(t.strategy===ih||t.match_length===D&&t.strstart-t.match_start>4096)&&(t.match_length=D-1)),t.prev_length>=D&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-D,n=ke(t,t.strstart-1-t.prev_match,t.prev_length-D),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=Ae(t,t.ins_h,t.window[t.strstart+D-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=D-1,t.strstart++,n&&($(t,!1),t.strm.avail_out===0))return L}else if(t.match_available){if(n=ke(t,0,t.window[t.strstart-1]),n&&$(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return L}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=ke(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<D-1?t.strstart:D-1,e===ve?($(t,!0),t.strm.avail_out===0?Oe:ot):t.last_lit&&($(t,!1),t.strm.avail_out===0)?L:jt},yh=(t,e)=>{let i,n,o,r;const s=t.window;for(;;){if(t.lookahead<=xe){if(Re(t),t.lookahead<=xe&&e===Ze)return L;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=D&&t.strstart>0&&(o=t.strstart-1,n=s[o],n===s[++o]&&n===s[++o]&&n===s[++o])){r=t.strstart+xe;do;while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<r);t.match_length=xe-(r-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=D?(i=ke(t,1,t.match_length-D),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=ke(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&($(t,!1),t.strm.avail_out===0))return L}return t.insert=0,e===ve?($(t,!0),t.strm.avail_out===0?Oe:ot):t.last_lit&&($(t,!1),t.strm.avail_out===0)?L:jt},kh=(t,e)=>{let i;for(;;){if(t.lookahead===0&&(Re(t),t.lookahead===0)){if(e===Ze)return L;break}if(t.match_length=0,i=ke(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&($(t,!1),t.strm.avail_out===0))return L}return t.insert=0,e===ve?($(t,!0),t.strm.avail_out===0?Oe:ot):t.last_lit&&($(t,!1),t.strm.avail_out===0)?L:jt};function ie(t,e,i,n,o){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=o}const dt=[new ie(0,0,0,0,_h),new ie(4,4,8,4,tn),new ie(4,5,16,8,tn),new ie(4,6,32,32,tn),new ie(4,4,16,16,Fe),new ie(8,16,32,32,Fe),new ie(8,16,128,128,Fe),new ie(8,32,128,256,Fe),new ie(32,128,258,1024,Fe),new ie(32,258,258,4096,Fe)],vh=t=>{t.window_size=2*t.w_size,be(t.head),t.max_lazy_match=dt[t.level].max_lazy,t.good_match=dt[t.level].good_length,t.nice_match=dt[t.level].nice_length,t.max_chain_length=dt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=D-1,t.match_available=0,t.ins_h=0};function Ah(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Li,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ph*2),this.dyn_dtree=new Uint16Array((2*uh+1)*2),this.bl_tree=new Uint16Array((2*fh+1)*2),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(gh+1),this.heap=new Uint16Array(2*yn+1),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*yn+1),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Os=t=>{if(!t||!t.state)return _e(t,J);t.total_in=t.total_out=0,t.data_type=sh;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Ui:Me,t.adler=e.wrap===2?0:1,e.last_flush=Ze,Yd(e),oe},Rs=t=>{const e=Os(t);return e===oe&&vh(t.state),e},Dh=(t,e)=>!t||!t.state||t.state.wrap!==2?J:(t.state.gzhead=e,oe),Ls=(t,e,i,n,o,r)=>{if(!t)return J;let s=1;if(e===th&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>ah||i!==Li||n<8||n>15||e<0||e>9||r<0||r>oh)return _e(t,J);n===8&&(n=9);const a=new Ah;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+D-1)/D),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=e,a.strategy=r,a.method=i,Rs(t)},Sh=(t,e)=>Ls(t,e,Li,lh,ch,rh),Eh=(t,e)=>{let i,n;if(!t||!t.state||e>$o||e<0)return t?_e(t,J):J;const o=t.state;if(!t.output||!t.input&&t.avail_in!==0||o.status===ct&&e!==ve)return _e(t,t.avail_out===0?en:J);o.strm=t;const r=o.last_flush;if(o.last_flush=e,o.status===Ui)if(o.wrap===2)t.adler=0,S(o,31),S(o,139),S(o,8),o.gzhead?(S(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),S(o,o.gzhead.time&255),S(o,o.gzhead.time>>8&255),S(o,o.gzhead.time>>16&255),S(o,o.gzhead.time>>24&255),S(o,o.level===9?2:o.strategy>=Qt||o.level<2?4:0),S(o,o.gzhead.os&255),o.gzhead.extra&&o.gzhead.extra.length&&(S(o,o.gzhead.extra.length&255),S(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=j(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=kn):(S(o,0),S(o,0),S(o,0),S(o,0),S(o,0),S(o,o.level===9?2:o.strategy>=Qt||o.level<2?4:0),S(o,bh),o.status=Me);else{let s=Li+(o.w_bits-8<<4)<<8,a=-1;o.strategy>=Qt||o.level<2?a=0:o.level<6?a=1:o.level===6?a=2:a=3,s|=a<<6,o.strstart!==0&&(s|=mh),s+=31-s%31,o.status=Me,st(o,s),o.strstart!==0&&(st(o,t.adler>>>16),st(o,t.adler&65535)),t.adler=1}if(o.status===kn)if(o.gzhead.extra){for(i=o.pending;o.gzindex<(o.gzhead.extra.length&65535)&&!(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(t.adler=j(t.adler,o.pending_buf,o.pending-i,i)),ge(t),i=o.pending,o.pending===o.pending_buf_size));)S(o,o.gzhead.extra[o.gzindex]&255),o.gzindex++;o.gzhead.hcrc&&o.pending>i&&(t.adler=j(t.adler,o.pending_buf,o.pending-i,i)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=ai)}else o.status=ai;if(o.status===ai)if(o.gzhead.name){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(t.adler=j(t.adler,o.pending_buf,o.pending-i,i)),ge(t),i=o.pending,o.pending===o.pending_buf_size)){n=1;break}o.gzindex<o.gzhead.name.length?n=o.gzhead.name.charCodeAt(o.gzindex++)&255:n=0,S(o,n)}while(n!==0);o.gzhead.hcrc&&o.pending>i&&(t.adler=j(t.adler,o.pending_buf,o.pending-i,i)),n===0&&(o.gzindex=0,o.status=li)}else o.status=li;if(o.status===li)if(o.gzhead.comment){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(t.adler=j(t.adler,o.pending_buf,o.pending-i,i)),ge(t),i=o.pending,o.pending===o.pending_buf_size)){n=1;break}o.gzindex<o.gzhead.comment.length?n=o.gzhead.comment.charCodeAt(o.gzindex++)&255:n=0,S(o,n)}while(n!==0);o.gzhead.hcrc&&o.pending>i&&(t.adler=j(t.adler,o.pending_buf,o.pending-i,i)),n===0&&(o.status=ci)}else o.status=ci;if(o.status===ci&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&ge(t),o.pending+2<=o.pending_buf_size&&(S(o,t.adler&255),S(o,t.adler>>8&255),t.adler=0,o.status=Me)):o.status=Me),o.pending!==0){if(ge(t),t.avail_out===0)return o.last_flush=-1,oe}else if(t.avail_in===0&&qo(e)<=qo(r)&&e!==ve)return _e(t,en);if(o.status===ct&&t.avail_in!==0)return _e(t,en);if(t.avail_in!==0||o.lookahead!==0||e!==Ze&&o.status!==ct){let s=o.strategy===Qt?kh(o,e):o.strategy===nh?yh(o,e):dt[o.level].func(o,e);if((s===Oe||s===ot)&&(o.status=ct),s===L||s===Oe)return t.avail_out===0&&(o.last_flush=-1),oe;if(s===jt&&(e===Kd?Jd(o):e!==$o&&(Qd(o,0,0,!1),e===Xd&&(be(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),ge(t),t.avail_out===0))return o.last_flush=-1,oe}return e!==ve?oe:o.wrap<=0?Bo:(o.wrap===2?(S(o,t.adler&255),S(o,t.adler>>8&255),S(o,t.adler>>16&255),S(o,t.adler>>24&255),S(o,t.total_in&255),S(o,t.total_in>>8&255),S(o,t.total_in>>16&255),S(o,t.total_in>>24&255)):(st(o,t.adler>>>16),st(o,t.adler&65535)),ge(t),o.wrap>0&&(o.wrap=-o.wrap),o.pending!==0?oe:Bo)},Ch=t=>{if(!t||!t.state)return J;const e=t.state.status;return e!==Ui&&e!==kn&&e!==ai&&e!==li&&e!==ci&&e!==Me&&e!==ct?_e(t,J):(t.state=null,e===Me?_e(t,eh):oe)},Mh=(t,e)=>{let i=e.length;if(!t||!t.state)return J;const n=t.state,o=n.wrap;if(o===2||o===1&&n.status!==Ui||n.lookahead)return J;if(o===1&&(t.adler=St(t.adler,e,i,0)),n.wrap=0,i>=n.w_size){o===0&&(be(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(e.subarray(i-n.w_size,i),0),e=d,i=n.w_size}const r=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,Re(n);n.lookahead>=D;){let d=n.strstart,l=n.lookahead-(D-1);do n.ins_h=Ae(n,n.ins_h,n.window[d+D-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--l);n.strstart=d,n.lookahead=D-1,Re(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=D-1,n.match_available=0,t.next_in=s,t.input=a,t.avail_in=r,n.wrap=o,oe};var Ih=Sh,Nh=Ls,zh=Rs,Th=Os,Oh=Dh,Rh=Eh,Lh=Ch,Uh=Mh,jh="pako deflate (from Nodeca project)",ut={deflateInit:Ih,deflateInit2:Nh,deflateReset:zh,deflateResetKeep:Th,deflateSetHeader:Oh,deflate:Rh,deflateEnd:Lh,deflateSetDictionary:Uh,deflateInfo:jh};const Zh=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Fh=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(!!i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const n in i)Zh(i,n)&&(t[n]=i[n])}}return t},$h=t=>{let e=0;for(let n=0,o=t.length;n<o;n++)e+=t[n].length;const i=new Uint8Array(e);for(let n=0,o=0,r=t.length;n<r;n++){let s=t[n];i.set(s,o),o+=s.length}return i},ji={assign:Fh,flattenChunks:$h};let Us=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Us=!1}const Et=new Uint8Array(256);for(let t=0;t<256;t++)Et[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Et[254]=Et[254]=1;var Bh=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,i,n,o,r,s=t.length,a=0;for(o=0;o<s;o++)i=t.charCodeAt(o),(i&64512)===55296&&o+1<s&&(n=t.charCodeAt(o+1),(n&64512)===56320&&(i=65536+(i-55296<<10)+(n-56320),o++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(a),r=0,o=0;r<a;o++)i=t.charCodeAt(o),(i&64512)===55296&&o+1<s&&(n=t.charCodeAt(o+1),(n&64512)===56320&&(i=65536+(i-55296<<10)+(n-56320),o++)),i<128?e[r++]=i:i<2048?(e[r++]=192|i>>>6,e[r++]=128|i&63):i<65536?(e[r++]=224|i>>>12,e[r++]=128|i>>>6&63,e[r++]=128|i&63):(e[r++]=240|i>>>18,e[r++]=128|i>>>12&63,e[r++]=128|i>>>6&63,e[r++]=128|i&63);return e};const qh=(t,e)=>{if(e<65534&&t.subarray&&Us)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i};var Vh=(t,e)=>{const i=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,o;const r=new Array(i*2);for(o=0,n=0;n<i;){let s=t[n++];if(s<128){r[o++]=s;continue}let a=Et[s];if(a>4){r[o++]=65533,n+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&n<i;)s=s<<6|t[n++]&63,a--;if(a>1){r[o++]=65533;continue}s<65536?r[o++]=s:(s-=65536,r[o++]=55296|s>>10&1023,r[o++]=56320|s&1023)}return qh(r,o)},Hh=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let i=e-1;for(;i>=0&&(t[i]&192)===128;)i--;return i<0||i===0?e:i+Et[t[i]]>e?i:e},Ct={string2buf:Bh,buf2string:Vh,utf8border:Hh};function Ph(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var js=Ph;const Zs=Object.prototype.toString,{Z_NO_FLUSH:Gh,Z_SYNC_FLUSH:Yh,Z_FULL_FLUSH:Qh,Z_FINISH:Wh,Z_OK:ki,Z_STREAM_END:Jh,Z_DEFAULT_COMPRESSION:Kh,Z_DEFAULT_STRATEGY:Xh,Z_DEFLATED:eu}=Ut;function Zt(t){this.options=ji.assign({level:Kh,method:eu,chunkSize:16384,windowBits:15,memLevel:8,strategy:Xh},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new js,this.strm.avail_out=0;let i=ut.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==ki)throw new Error(Je[i]);if(e.header&&ut.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=Ct.string2buf(e.dictionary):Zs.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,i=ut.deflateSetDictionary(this.strm,n),i!==ki)throw new Error(Je[i]);this._dict_set=!0}}Zt.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize;let o,r;if(this.ended)return!1;for(e===~~e?r=e:r=e===!0?Wh:Gh,typeof t=="string"?i.input=Ct.string2buf(t):Zs.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){if(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(r===Yh||r===Qh)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(o=ut.deflate(i,r),o===Jh)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),o=ut.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===ki;if(i.avail_out===0){this.onData(i.output);continue}if(r>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};Zt.prototype.onData=function(t){this.chunks.push(t)};Zt.prototype.onEnd=function(t){t===ki&&(this.result=ji.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Wn(t,e){const i=new Zt(e);if(i.push(t,!0),i.err)throw i.msg||Je[i.err];return i.result}function tu(t,e){return e=e||{},e.raw=!0,Wn(t,e)}function iu(t,e){return e=e||{},e.gzip=!0,Wn(t,e)}var nu=Zt,ou=Wn,ru=tu,su=iu,au=Ut,lu={Deflate:nu,deflate:ou,deflateRaw:ru,gzip:su,constants:au};const Wt=30,cu=12;var du=function(e,i){let n,o,r,s,a,d,l,c,f,u,h,p,m,w,x,M,A,g,C,U,b,N,I,_;const k=e.state;n=e.next_in,I=e.input,o=n+(e.avail_in-5),r=e.next_out,_=e.output,s=r-(i-e.avail_out),a=r+(e.avail_out-257),d=k.dmax,l=k.wsize,c=k.whave,f=k.wnext,u=k.window,h=k.hold,p=k.bits,m=k.lencode,w=k.distcode,x=(1<<k.lenbits)-1,M=(1<<k.distbits)-1;e:do{p<15&&(h+=I[n++]<<p,p+=8,h+=I[n++]<<p,p+=8),A=m[h&x];t:for(;;){if(g=A>>>24,h>>>=g,p-=g,g=A>>>16&255,g===0)_[r++]=A&65535;else if(g&16){C=A&65535,g&=15,g&&(p<g&&(h+=I[n++]<<p,p+=8),C+=h&(1<<g)-1,h>>>=g,p-=g),p<15&&(h+=I[n++]<<p,p+=8,h+=I[n++]<<p,p+=8),A=w[h&M];i:for(;;){if(g=A>>>24,h>>>=g,p-=g,g=A>>>16&255,g&16){if(U=A&65535,g&=15,p<g&&(h+=I[n++]<<p,p+=8,p<g&&(h+=I[n++]<<p,p+=8)),U+=h&(1<<g)-1,U>d){e.msg="invalid distance too far back",k.mode=Wt;break e}if(h>>>=g,p-=g,g=r-s,U>g){if(g=U-g,g>c&&k.sane){e.msg="invalid distance too far back",k.mode=Wt;break e}if(b=0,N=u,f===0){if(b+=l-g,g<C){C-=g;do _[r++]=u[b++];while(--g);b=r-U,N=_}}else if(f<g){if(b+=l+f-g,g-=f,g<C){C-=g;do _[r++]=u[b++];while(--g);if(b=0,f<C){g=f,C-=g;do _[r++]=u[b++];while(--g);b=r-U,N=_}}}else if(b+=f-g,g<C){C-=g;do _[r++]=u[b++];while(--g);b=r-U,N=_}for(;C>2;)_[r++]=N[b++],_[r++]=N[b++],_[r++]=N[b++],C-=3;C&&(_[r++]=N[b++],C>1&&(_[r++]=N[b++]))}else{b=r-U;do _[r++]=_[b++],_[r++]=_[b++],_[r++]=_[b++],C-=3;while(C>2);C&&(_[r++]=_[b++],C>1&&(_[r++]=_[b++]))}}else if((g&64)===0){A=w[(A&65535)+(h&(1<<g)-1)];continue i}else{e.msg="invalid distance code",k.mode=Wt;break e}break}}else if((g&64)===0){A=m[(A&65535)+(h&(1<<g)-1)];continue t}else if(g&32){k.mode=cu;break e}else{e.msg="invalid literal/length code",k.mode=Wt;break e}break}}while(n<o&&r<a);C=p>>3,n-=C,p-=C<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=r,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=r<a?257+(a-r):257-(r-a),k.hold=h,k.bits=p};const $e=15,Vo=852,Ho=592,Po=0,nn=1,Go=2,hu=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uu=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fu=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pu=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gu=(t,e,i,n,o,r,s,a)=>{const d=a.bits;let l=0,c=0,f=0,u=0,h=0,p=0,m=0,w=0,x=0,M=0,A,g,C,U,b,N=null,I=0,_;const k=new Uint16Array($e+1),Ee=new Uint16Array($e+1);let Ft=null,Kn=0,Xn,$t,Bt;for(l=0;l<=$e;l++)k[l]=0;for(c=0;c<n;c++)k[e[i+c]]++;for(h=d,u=$e;u>=1&&k[u]===0;u--);if(h>u&&(h=u),u===0)return o[r++]=1<<24|64<<16|0,o[r++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<u&&k[f]===0;f++);for(h<f&&(h=f),w=1,l=1;l<=$e;l++)if(w<<=1,w-=k[l],w<0)return-1;if(w>0&&(t===Po||u!==1))return-1;for(Ee[1]=0,l=1;l<$e;l++)Ee[l+1]=Ee[l]+k[l];for(c=0;c<n;c++)e[i+c]!==0&&(s[Ee[e[i+c]]++]=c);if(t===Po?(N=Ft=s,_=19):t===nn?(N=hu,I-=257,Ft=uu,Kn-=257,_=256):(N=fu,Ft=pu,_=-1),M=0,c=0,l=f,b=r,p=h,m=0,C=-1,x=1<<h,U=x-1,t===nn&&x>Vo||t===Go&&x>Ho)return 1;for(;;){Xn=l-m,s[c]<_?($t=0,Bt=s[c]):s[c]>_?($t=Ft[Kn+s[c]],Bt=N[I+s[c]]):($t=32+64,Bt=0),A=1<<l-m,g=1<<p,f=g;do g-=A,o[b+(M>>m)+g]=Xn<<24|$t<<16|Bt|0;while(g!==0);for(A=1<<l-1;M&A;)A>>=1;if(A!==0?(M&=A-1,M+=A):M=0,c++,--k[l]===0){if(l===u)break;l=e[i+s[c]]}if(l>h&&(M&U)!==C){for(m===0&&(m=h),b+=f,p=l-m,w=1<<p;p+m<u&&(w-=k[p+m],!(w<=0));)p++,w<<=1;if(x+=1<<p,t===nn&&x>Vo||t===Go&&x>Ho)return 1;C=M&U,o[C]=h<<24|p<<16|b-r|0}}return M!==0&&(o[b+M]=l-m<<24|64<<16|0),a.bits=h,0};var ft=gu;const mu=0,Fs=1,$s=2,{Z_FINISH:Yo,Z_BLOCK:bu,Z_TREES:Jt,Z_OK:Le,Z_STREAM_END:wu,Z_NEED_DICT:xu,Z_STREAM_ERROR:K,Z_DATA_ERROR:Bs,Z_MEM_ERROR:qs,Z_BUF_ERROR:_u,Z_DEFLATED:Qo}=Ut,Vs=1,Wo=2,Jo=3,Ko=4,Xo=5,er=6,tr=7,ir=8,nr=9,or=10,vi=11,de=12,on=13,rr=14,rn=15,sr=16,ar=17,lr=18,cr=19,Kt=20,Xt=21,dr=22,hr=23,ur=24,fr=25,pr=26,sn=27,gr=28,mr=29,T=30,Hs=31,yu=32,ku=852,vu=592,Au=15,Du=Au,br=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Su(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ps=t=>{if(!t||!t.state)return K;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Vs,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ku),e.distcode=e.distdyn=new Int32Array(vu),e.sane=1,e.back=-1,Le},Gs=t=>{if(!t||!t.state)return K;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ps(t)},Ys=(t,e)=>{let i;if(!t||!t.state)return K;const n=t.state;return e<0?(i=0,e=-e):(i=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?K:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,Gs(t))},Qs=(t,e)=>{if(!t)return K;const i=new Su;t.state=i,i.window=null;const n=Ys(t,e);return n!==Le&&(t.state=null),n},Eu=t=>Qs(t,Du);let wr=!0,an,ln;const Cu=t=>{if(wr){an=new Int32Array(512),ln=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ft(Fs,t.lens,0,288,an,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ft($s,t.lens,0,32,ln,0,t.work,{bits:5}),wr=!1}t.lencode=an,t.lenbits=9,t.distcode=ln,t.distbits=5},Ws=(t,e,i,n)=>{let o;const r=t.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(e.subarray(i-r.wsize,i),0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>n&&(o=n),r.window.set(e.subarray(i-n,i-n+o),r.wnext),n-=o,n?(r.window.set(e.subarray(i-n,i),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0},Mu=(t,e)=>{let i,n,o,r,s,a,d,l,c,f,u,h,p,m,w=0,x,M,A,g,C,U,b,N;const I=new Uint8Array(4);let _,k;const Ee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return K;i=t.state,i.mode===de&&(i.mode=on),s=t.next_out,o=t.output,d=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,l=i.hold,c=i.bits,f=a,u=d,N=Le;e:for(;;)switch(i.mode){case Vs:if(i.wrap===0){i.mode=on;break}for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(i.wrap&2&&l===35615){i.check=0,I[0]=l&255,I[1]=l>>>8&255,i.check=j(i.check,I,2,0),l=0,c=0,i.mode=Wo;break}if(i.flags=0,i.head&&(i.head.done=!1),!(i.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",i.mode=T;break}if((l&15)!==Qo){t.msg="unknown compression method",i.mode=T;break}if(l>>>=4,c-=4,b=(l&15)+8,i.wbits===0)i.wbits=b;else if(b>i.wbits){t.msg="invalid window size",i.mode=T;break}i.dmax=1<<i.wbits,t.adler=i.check=1,i.mode=l&512?or:de,l=0,c=0;break;case Wo:for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(i.flags=l,(i.flags&255)!==Qo){t.msg="unknown compression method",i.mode=T;break}if(i.flags&57344){t.msg="unknown header flags set",i.mode=T;break}i.head&&(i.head.text=l>>8&1),i.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,i.check=j(i.check,I,2,0)),l=0,c=0,i.mode=Jo;case Jo:for(;c<32;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.head&&(i.head.time=l),i.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,I[2]=l>>>16&255,I[3]=l>>>24&255,i.check=j(i.check,I,4,0)),l=0,c=0,i.mode=Ko;case Ko:for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.head&&(i.head.xflags=l&255,i.head.os=l>>8),i.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,i.check=j(i.check,I,2,0)),l=0,c=0,i.mode=Xo;case Xo:if(i.flags&1024){for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.length=l,i.head&&(i.head.extra_len=l),i.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,i.check=j(i.check,I,2,0)),l=0,c=0}else i.head&&(i.head.extra=null);i.mode=er;case er:if(i.flags&1024&&(h=i.length,h>a&&(h=a),h&&(i.head&&(b=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(r,r+h),b)),i.flags&512&&(i.check=j(i.check,n,h,r)),a-=h,r+=h,i.length-=h),i.length))break e;i.length=0,i.mode=tr;case tr:if(i.flags&2048){if(a===0)break e;h=0;do b=n[r+h++],i.head&&b&&i.length<65536&&(i.head.name+=String.fromCharCode(b));while(b&&h<a);if(i.flags&512&&(i.check=j(i.check,n,h,r)),a-=h,r+=h,b)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=ir;case ir:if(i.flags&4096){if(a===0)break e;h=0;do b=n[r+h++],i.head&&b&&i.length<65536&&(i.head.comment+=String.fromCharCode(b));while(b&&h<a);if(i.flags&512&&(i.check=j(i.check,n,h,r)),a-=h,r+=h,b)break e}else i.head&&(i.head.comment=null);i.mode=nr;case nr:if(i.flags&512){for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(l!==(i.check&65535)){t.msg="header crc mismatch",i.mode=T;break}l=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=de;break;case or:for(;c<32;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}t.adler=i.check=br(l),l=0,c=0,i.mode=vi;case vi:if(i.havedict===0)return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=a,i.hold=l,i.bits=c,xu;t.adler=i.check=1,i.mode=de;case de:if(e===bu||e===Jt)break e;case on:if(i.last){l>>>=c&7,c-=c&7,i.mode=sn;break}for(;c<3;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}switch(i.last=l&1,l>>>=1,c-=1,l&3){case 0:i.mode=rr;break;case 1:if(Cu(i),i.mode=Kt,e===Jt){l>>>=2,c-=2;break e}break;case 2:i.mode=ar;break;case 3:t.msg="invalid block type",i.mode=T}l>>>=2,c-=2;break;case rr:for(l>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",i.mode=T;break}if(i.length=l&65535,l=0,c=0,i.mode=rn,e===Jt)break e;case rn:i.mode=sr;case sr:if(h=i.length,h){if(h>a&&(h=a),h>d&&(h=d),h===0)break e;o.set(n.subarray(r,r+h),s),a-=h,r+=h,d-=h,s+=h,i.length-=h;break}i.mode=de;break;case ar:for(;c<14;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(i.nlen=(l&31)+257,l>>>=5,c-=5,i.ndist=(l&31)+1,l>>>=5,c-=5,i.ncode=(l&15)+4,l>>>=4,c-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=T;break}i.have=0,i.mode=lr;case lr:for(;i.have<i.ncode;){for(;c<3;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.lens[Ee[i.have++]]=l&7,l>>>=3,c-=3}for(;i.have<19;)i.lens[Ee[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,_={bits:i.lenbits},N=ft(mu,i.lens,0,19,i.lencode,0,i.work,_),i.lenbits=_.bits,N){t.msg="invalid code lengths set",i.mode=T;break}i.have=0,i.mode=cr;case cr:for(;i.have<i.nlen+i.ndist;){for(;w=i.lencode[l&(1<<i.lenbits)-1],x=w>>>24,M=w>>>16&255,A=w&65535,!(x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(A<16)l>>>=x,c-=x,i.lens[i.have++]=A;else{if(A===16){for(k=x+2;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(l>>>=x,c-=x,i.have===0){t.msg="invalid bit length repeat",i.mode=T;break}b=i.lens[i.have-1],h=3+(l&3),l>>>=2,c-=2}else if(A===17){for(k=x+3;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}l>>>=x,c-=x,b=0,h=3+(l&7),l>>>=3,c-=3}else{for(k=x+7;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}l>>>=x,c-=x,b=0,h=11+(l&127),l>>>=7,c-=7}if(i.have+h>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=T;break}for(;h--;)i.lens[i.have++]=b}}if(i.mode===T)break;if(i.lens[256]===0){t.msg="invalid code -- missing end-of-block",i.mode=T;break}if(i.lenbits=9,_={bits:i.lenbits},N=ft(Fs,i.lens,0,i.nlen,i.lencode,0,i.work,_),i.lenbits=_.bits,N){t.msg="invalid literal/lengths set",i.mode=T;break}if(i.distbits=6,i.distcode=i.distdyn,_={bits:i.distbits},N=ft($s,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,_),i.distbits=_.bits,N){t.msg="invalid distances set",i.mode=T;break}if(i.mode=Kt,e===Jt)break e;case Kt:i.mode=Xt;case Xt:if(a>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=a,i.hold=l,i.bits=c,du(t,u),s=t.next_out,o=t.output,d=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,l=i.hold,c=i.bits,i.mode===de&&(i.back=-1);break}for(i.back=0;w=i.lencode[l&(1<<i.lenbits)-1],x=w>>>24,M=w>>>16&255,A=w&65535,!(x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(M&&(M&240)===0){for(g=x,C=M,U=A;w=i.lencode[U+((l&(1<<g+C)-1)>>g)],x=w>>>24,M=w>>>16&255,A=w&65535,!(g+x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}l>>>=g,c-=g,i.back+=g}if(l>>>=x,c-=x,i.back+=x,i.length=A,M===0){i.mode=pr;break}if(M&32){i.back=-1,i.mode=de;break}if(M&64){t.msg="invalid literal/length code",i.mode=T;break}i.extra=M&15,i.mode=dr;case dr:if(i.extra){for(k=i.extra;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.length+=l&(1<<i.extra)-1,l>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=hr;case hr:for(;w=i.distcode[l&(1<<i.distbits)-1],x=w>>>24,M=w>>>16&255,A=w&65535,!(x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if((M&240)===0){for(g=x,C=M,U=A;w=i.distcode[U+((l&(1<<g+C)-1)>>g)],x=w>>>24,M=w>>>16&255,A=w&65535,!(g+x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}l>>>=g,c-=g,i.back+=g}if(l>>>=x,c-=x,i.back+=x,M&64){t.msg="invalid distance code",i.mode=T;break}i.offset=A,i.extra=M&15,i.mode=ur;case ur:if(i.extra){for(k=i.extra;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.offset+=l&(1<<i.extra)-1,l>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=T;break}i.mode=fr;case fr:if(d===0)break e;if(h=u-d,i.offset>h){if(h=i.offset-h,h>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=T;break}h>i.wnext?(h-=i.wnext,p=i.wsize-h):p=i.wnext-h,h>i.length&&(h=i.length),m=i.window}else m=o,p=s-i.offset,h=i.length;h>d&&(h=d),d-=h,i.length-=h;do o[s++]=m[p++];while(--h);i.length===0&&(i.mode=Xt);break;case pr:if(d===0)break e;o[s++]=i.length,d--,i.mode=Xt;break;case sn:if(i.wrap){for(;c<32;){if(a===0)break e;a--,l|=n[r++]<<c,c+=8}if(u-=d,t.total_out+=u,i.total+=u,u&&(t.adler=i.check=i.flags?j(i.check,o,u,s-u):St(i.check,o,u,s-u)),u=d,(i.flags?l:br(l))!==i.check){t.msg="incorrect data check",i.mode=T;break}l=0,c=0}i.mode=gr;case gr:if(i.wrap&&i.flags){for(;c<32;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(l!==(i.total&4294967295)){t.msg="incorrect length check",i.mode=T;break}l=0,c=0}i.mode=mr;case mr:N=wu;break e;case T:N=Bs;break e;case Hs:return qs;case yu:default:return K}return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=a,i.hold=l,i.bits=c,(i.wsize||u!==t.avail_out&&i.mode<T&&(i.mode<sn||e!==Yo))&&Ws(t,t.output,t.next_out,u-t.avail_out),f-=t.avail_in,u-=t.avail_out,t.total_in+=f,t.total_out+=u,i.total+=u,i.wrap&&u&&(t.adler=i.check=i.flags?j(i.check,o,u,t.next_out-u):St(i.check,o,u,t.next_out-u)),t.data_type=i.bits+(i.last?64:0)+(i.mode===de?128:0)+(i.mode===Kt||i.mode===rn?256:0),(f===0&&u===0||e===Yo)&&N===Le&&(N=_u),N},Iu=t=>{if(!t||!t.state)return K;let e=t.state;return e.window&&(e.window=null),t.state=null,Le},Nu=(t,e)=>{if(!t||!t.state)return K;const i=t.state;return(i.wrap&2)===0?K:(i.head=e,e.done=!1,Le)},zu=(t,e)=>{const i=e.length;let n,o,r;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==vi)?K:n.mode===vi&&(o=1,o=St(o,e,i,0),o!==n.check)?Bs:(r=Ws(t,e,i,i),r?(n.mode=Hs,qs):(n.havedict=1,Le))};var Tu=Gs,Ou=Ys,Ru=Ps,Lu=Eu,Uu=Qs,ju=Mu,Zu=Iu,Fu=Nu,$u=zu,Bu="pako inflate (from Nodeca project)",ue={inflateReset:Tu,inflateReset2:Ou,inflateResetKeep:Ru,inflateInit:Lu,inflateInit2:Uu,inflate:ju,inflateEnd:Zu,inflateGetHeader:Fu,inflateSetDictionary:$u,inflateInfo:Bu};function qu(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Vu=qu;const Js=Object.prototype.toString,{Z_NO_FLUSH:Hu,Z_FINISH:Pu,Z_OK:Mt,Z_STREAM_END:cn,Z_NEED_DICT:dn,Z_STREAM_ERROR:Gu,Z_DATA_ERROR:xr,Z_MEM_ERROR:Yu}=Ut;function Jn(t){this.options=ji.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new js,this.strm.avail_out=0;let i=ue.inflateInit2(this.strm,e.windowBits);if(i!==Mt)throw new Error(Je[i]);if(this.header=new Vu,ue.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Ct.string2buf(e.dictionary):Js.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=ue.inflateSetDictionary(this.strm,e.dictionary),i!==Mt)))throw new Error(Je[i])}Jn.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let r,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Pu:Hu,Js.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),r=ue.inflate(i,s),r===dn&&o&&(r=ue.inflateSetDictionary(i,o),r===Mt?r=ue.inflate(i,s):r===xr&&(r=dn));i.avail_in>0&&r===cn&&i.state.wrap>0&&t[i.next_in]!==0;)ue.inflateReset(i),r=ue.inflate(i,s);switch(r){case Gu:case xr:case dn:case Yu:return this.onEnd(r),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(i.avail_out===0||r===cn))if(this.options.to==="string"){let d=Ct.utf8border(i.output,i.next_out),l=i.next_out-d,c=Ct.buf2string(i.output,d);i.next_out=l,i.avail_out=n-l,l&&i.output.set(i.output.subarray(d,d+l),0),this.onData(c)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(r===Mt&&a===0)){if(r===cn)return r=ue.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};Jn.prototype.onData=function(t){this.chunks.push(t)};Jn.prototype.onEnd=function(t){t===Mt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ji.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:rf,deflate:sf,deflateRaw:Qu,gzip:af}=lu;var Wu=Qu;const di=class{hasLanguage(t){return Object.prototype.hasOwnProperty.call(di.lanMap,t)}getLanguages(){return Object.keys(di.lanMap)}async runCode(t,e){if(!this.hasLanguage(e))return`Language not supported!
`;try{const i=unescape(encodeURIComponent(di.lanMap[e])),n=unescape(encodeURIComponent(t)),o=`Vlang\0${1}\0${i}\0VTIO_CFLAGS\0${0}\0F.code.tio\0${n.length}\0${n}F.input.tio\0${0}\0Vargs\0${0}\0R`,r=await fetch("https://tio.run/cgi-bin/run/api/",{method:"POST",body:new Blob([Wu(Ju(o),{level:9})])});if(!r.ok)return`${r.status} ${r.statusText}`;const s=await r.text(),a=s.slice(0,16),d=s.split(`
`);if(!s.includes("Real time:"))return s.split(a).join("");for(let u=d.length-1;u>=0;u--){const h=d[u];if(h.startsWith(a)||(d.pop(),h.startsWith("Real time:")))break}const l=d.join(`
`),[c,f]=l.slice(16).split(a);return f||c}catch(i){return`${i instanceof Error?i.message:String(i)}
`}}};let Ks=di;Ks.lanMap={clojure:"clojure",coffeescript:"coffeescript",c:"c-gcc",cpp:"cpp-gcc",csharp:"cs-mono",dart:"dart",elixir:"elixir",fsharp:"fs-mono",go:"go",java:"java-jdk",javascript:"javascript-node",julia:"julia",kotlin:"kotlin",lua:"lua","objective-c":"objective-c-gcc",pascal:"pascal-fpc",perl:"perl6",php:"php",powershell:"powershell",python:"python3",r:"r",ruby:"ruby",rust:"rust",scala:"scala",shell:"bash",sql:"spl",swift:"swift4",tcl:"tcl",typescript:"typescript",vb:"vb-core"};function Ju(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}class Ku{constructor(e,i,n,o,r){this.context=e,this.attrs=i,this.box=n,this.monaco=o,this.readonly=r,this.compiler=new Ks,this.sideEffect=new Ai,this.terminal=new bd(e,i,this.compiler),this.yDoc=new et,this.yText=this.yDoc.getText("monaco"),this.$container=this.renderContainer(),this.box.mountContent(this.$container);const s=document.createElement("div");s.className=this.wrapClassName("editor"),this.$container.appendChild(s),this.editor=this.monaco.editor.create(s,{value:"",automaticLayout:!0,readOnly:r,language:this.attrs.lang,fixedOverflowWidgets:!1,theme:n.darkMode?"vs-dark":"vs"}),this.sideEffect.add(()=>{const a=d=>{this.monaco.editor.setTheme(d?"vs-dark":"vs")};return n.events.on("dark_mode",a),()=>n.events.off("dark_mode",a)}),this.$footer=this.renderFooter(),this.$container.appendChild(this.$footer),this.yBinding=new md(e,i,n,this.monaco,this.editor,this.yDoc,this.yText,r)}setReadonly(e){e!==this.readonly&&(this.readonly=e,this.editor.updateOptions({readOnly:e}),this.yBinding.setReadonly(e),this.$footer&&(this.$footer.querySelectorAll("input").forEach(i=>i.disabled=e),this.$footer.querySelectorAll("select").forEach(i=>i.disabled=e),this.$footer.querySelectorAll("button").forEach(i=>i.disabled=e)))}renderContainer(){const e=document.createElement("div");return e.className=this.wrapClassName("editor-container"),e}renderFooter(){const e=document.createElement("div");e.className=this.wrapClassName("footer");const i=document.createElement("div");i.className=this.wrapClassName("footer-ctrl"),e.appendChild(i);const n=document.createElement("select");n.className=this.wrapClassName("lang-select"),n.disabled=this.readonly,this.monaco.languages.getLanguages().forEach(r=>{const s=document.createElement("option");s.value=r.id,s.textContent=r.id,n.appendChild(s)}),n.value=this.attrs.lang,i.appendChild(n);const o=document.createElement("button");return o.className=this.wrapClassName("run-code"),o.textContent="Run",o.disabled=!this.compiler.hasLanguage(this.attrs.lang)||this.readonly,i.appendChild(o),this.sideEffect.addEventListener(n,"change",()=>{const r=n.value;!this.readonly&&r&&r!==this.attrs.lang&&this.context.updateAttributes(["lang"],r)}),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.lang,r=>{r&&(this.monaco.editor.setModelLanguage(this.yBinding.monacoModel,r),n.value=r,o.disabled=!this.compiler.hasLanguage(r))})),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.codeRunning,r=>{o.disabled=r})),this.sideEffect.addEventListener(o,"click",async()=>{const r=this.editor.getValue();this.readonly||!r.trim()||(this.context.updateAttributes(["codeRunning"],!0),await this.terminal.runCode(r,this.attrs.lang),this.context.updateAttributes(["codeRunning"],!1))}),e.appendChild(this.terminal.$content),e}wrapClassName(e){return`netless-app-monaco-${e}`}destroy(){this.editor.dispose()}}const lf={kind:Xs,async setup(t){const e=t.box,i=ea(t,{text:"",cursors:{},selections:{},lang:"javascript",terminal:"",codeRunning:!1});e.mountStyles(ta+ia);const n=t.getAppOptions();n&&n.loader&&lo.config(n.loader);const o=window.require,r=await lo.init();window.require&&o&&(window.require=o);const s=new Ku(t,i,e,r,!t.isWritable),a=new dd(t,i,s.yDoc,s.yText);return t.emitter.on("writableChange",d=>{s.setReadonly(!d)}),t.emitter.on("destroy",()=>{a.destroy(),s.destroy()}),s}};export{lf as default};
